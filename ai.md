### USER

è¯·ä»‹ç»ä¸€ä¸‹ vscode ä¸­çš„ tasks.json ä¸­çš„ problemMatcher

### ASSISTANT

### äºŒã€å¸¸è§å†…ç½®çš„ problemMatcher

VSCode æä¾›äº†ä¸€äº›é¢„å®šä¹‰çš„ `problemMatcher`ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š

| Matcher                                | è¯´æ˜                                |
| -------------------------------------- | ----------------------------------- |
| `$tsc`                                 | åŒ¹é… TypeScript ç¼–è¯‘å™¨ï¼ˆtscï¼‰çš„è¾“å‡º |
| `$gcc`                                 | åŒ¹é… GCC ç¼–è¯‘å™¨çš„é”™è¯¯æ ¼å¼           |
| `$eslint-stylish` æˆ– `$eslint-compact` | åŒ¹é… ESLint çš„è¾“å‡º                  |
| `$msbuild`                             | åŒ¹é… MSBuild è¾“å‡ºï¼ˆç”¨äº C#ï¼‰        |
| `$jshint`                              | åŒ¹é… JSHint å·¥å…·è¾“å‡º                |
| `$go`                                  | åŒ¹é… Go ç¼–è¯‘é”™è¯¯                    |

#### ç¤ºä¾‹ï¼šä½¿ç”¨ `$tsc`

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Compile TypeScript",
      "type": "shell",
      "command": "tsc",
      "args": ["--build"],
      "group": "build",
      "problemMatcher": "$tsc"
    }
  ]
}
```

è¿™æ ·ï¼Œå½“ `tsc` ç¼–è¯‘å‡ºé”™æ—¶ï¼Œé”™è¯¯ä¼šæ˜¾ç¤ºåœ¨ Problems é¢æ¿ä¸­ã€‚

---

### ä¸‰ã€è‡ªå®šä¹‰ problemMatcher

å¦‚æœä½ ä½¿ç”¨çš„å·¥å…·è¾“å‡ºæ ¼å¼ä¸åœ¨å†…ç½®åˆ—è¡¨ä¸­ï¼Œå¯ä»¥è‡ªå®šä¹‰ `problemMatcher`ã€‚

#### åŸºæœ¬ç»“æ„ï¼š

```json
"problemMatcher": {
  "owner": "custom",          // é—®é¢˜çš„æ‰€æœ‰è€…ï¼ˆé€šå¸¸æ˜¯è¯­è¨€ï¼‰
  "fileLocation": ["relative", "${workspaceFolder}"],  // æ–‡ä»¶è·¯å¾„å¦‚ä½•è§£æ
  "pattern": {
    "regexp": "^([^\\s].*)\\((\\d+),(\\d+)\\):\\s+(error|warning|info)\\s+(.*)$",
    "file": 1,
    "line": 2,
    "column": 3,
    "severity": 4,
    "message": 5
  }
}
```

#### å„å­—æ®µå«ä¹‰ï¼š

| å­—æ®µ | è¯´æ˜ |
| --- | --- |
| `owner` | æ ‡è¯†é—®é¢˜æ¥æºï¼Œå¦‚ `"typescript"`ã€`"cpp"` |
| `fileLocation` | å¦‚ä½•è§£ææ–‡ä»¶è·¯å¾„ï¼Œå¸¸ç”¨ `["relative", "${workspaceFolder}"]` è¡¨ç¤ºç›¸å¯¹å·¥ä½œåŒºæ ¹ç›®å½• |
| `pattern` | åŒ¹é…å•è¡Œé”™è¯¯ä¿¡æ¯çš„æ­£åˆ™è¡¨è¾¾å¼ |
| `pattern.regexp` | æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ•è·é”™è¯¯ä¿¡æ¯çš„å„ä¸ªéƒ¨åˆ† |
| `file` | æ­£åˆ™ä¸­åŒ¹é…æ–‡ä»¶åçš„æ•è·ç»„ç¼–å· |
| `line` | è¡Œå·çš„æ•è·ç»„ |
| `column` | åˆ—å·ï¼ˆå¯é€‰ï¼‰ |
| `severity` | ä¸¥é‡æ€§ï¼ˆerror/warning/infoï¼‰ï¼Œå¯é€‰ |
| `message` | é”™è¯¯æ¶ˆæ¯å†…å®¹ |

#### ç¤ºä¾‹ï¼šè‡ªå®šä¹‰åŒ¹é…æ ¼å¼ä¸º `file.ts(10,5): error TS2304: Cannot find name 'xxx'`

```json
"problemMatcher": {
  "owner": "typescript",
  "fileLocation": ["relative", "${workspaceFolder}"],
  "pattern": {
    "regexp": "^(.*)\\((\\d+),(\\d+)\\):\\s+(error|warning)\\s+(.*)$",
    "file": 1,
    "line": 2,
    "column": 3,
    "severity": 3,
    "message": 5
  }
}
```

---

### å››ã€å¤šè¡Œé”™è¯¯åŒ¹é…ï¼ˆadvancedï¼‰

æœ‰äº›é”™è¯¯ä¿¡æ¯æ˜¯å¤šè¡Œçš„ï¼ˆæ¯”å¦‚ Python tracebackï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `loop: true` å’Œå¤šä¸ª `pattern`ã€‚

```json
"pattern": [
  {
    "regexp": "^([^\\s].*)\\((\\d+)\\):\\s+(.*)$",
    "file": 1,
    "line": 2,
    "message": 3,
    "loop": true
  },
  {
    "regexp": "^\\s+(.*)$",
    "message": 1
  }
]
```

---

### äº”ã€å¦‚ä½•è°ƒè¯• problemMatcherï¼Ÿ

1. ç¡®ä¿ä»»åŠ¡è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯æ ¼å¼æ¸…æ™°ã€‚
2. ä½¿ç”¨ [Regex101](https://regex101.com/) æµ‹è¯•ä½ çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚
3. åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»»åŠ¡ï¼Œå¤åˆ¶è¾“å‡ºï¼Œæ£€æŸ¥æ˜¯å¦èƒ½è¢«æ­£ç¡®åŒ¹é…ã€‚
4. æŸ¥çœ‹ Problems é¢æ¿æ˜¯å¦æœ‰é—®é¢˜å‡ºç°ã€‚

---

### å…­ã€æ€»ç»“

- `problemMatcher` è®© VSCode èƒ½â€œç†è§£â€æ„å»ºå·¥å…·çš„è¾“å‡ºã€‚
- ä¼˜å…ˆä½¿ç”¨å†…ç½® matcherï¼ˆå¦‚ `$tsc`, `$gcc`ï¼‰ã€‚
- è‡ªå®šä¹‰ matcher éœ€è¦æ­£ç¡®é…ç½®æ­£åˆ™å’Œè·¯å¾„è§£æã€‚
- æ­£ç¡®é…ç½®åï¼Œå¯å®ç°â€œç‚¹å‡»é”™è¯¯è·³è½¬åˆ°ä»£ç è¡Œâ€çš„å¼€å‘ä½“éªŒã€‚

---

âœ… æç¤ºï¼šä½ å¯ä»¥åœ¨ `.vscode/tasks.json` ä¸­ç»“åˆ `watch` æ¨¡å¼å’Œ `problemMatcher` å®ç°è‡ªåŠ¨æ„å»º + å®æ—¶é”™è¯¯æç¤ºï¼Œæå¤§æå‡å¼€å‘æ•ˆç‡ã€‚

### USER

å¦‚æœé€‰æ‹©å‘¢ï¼Ÿæˆ‘ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™åº”è¯¥ç”¨å†…ç½®çš„ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰ï¼Ÿå¦‚æœè¦ä½¿ç”¨å†…ç½®çš„ï¼Œåº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Œåˆ¤æ–­æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœè¦è‡ªå®šä¹‰çš„è¯ï¼Œä¹¦å†™ problemMatcher çš„æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ

### ASSISTANT

è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼é€‰æ‹©ä½¿ç”¨**å†…ç½®çš„ `problemMatcher`** è¿˜æ˜¯**è‡ªå®šä¹‰çš„**ï¼Œå–å†³äºä½ ä½¿ç”¨çš„æ„å»ºå·¥å…·å’Œè¾“å‡ºæ ¼å¼ã€‚ä¸‹é¢æˆ‘ä»¬ç³»ç»Ÿåœ°æ¢³ç†ä¸€ä¸‹ï¼š

---

## ä¸€ã€ä»€ä¹ˆæ—¶å€™ç”¨å†…ç½®çš„ï¼Ÿä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰ï¼Ÿ

### âœ… **ä½¿ç”¨å†…ç½® `problemMatcher` çš„æƒ…å†µï¼ˆæ¨èä¼˜å…ˆå°è¯•ï¼‰**

å½“ä½ ä½¿ç”¨çš„å·¥å…·æ˜¯å¸¸è§ä¸”æ ¼å¼æ ‡å‡†åŒ–çš„ç¼–è¯‘å™¨æˆ– Linterï¼Œ**å¹¶ä¸”å…¶é”™è¯¯è¾“å‡ºæ ¼å¼æ˜¯ VSCode å·²çŸ¥çš„**ï¼Œå°±åº”ä¼˜å…ˆä½¿ç”¨å†…ç½®çš„ã€‚

#### åˆ¤æ–­æ ‡å‡†ï¼ˆæ»¡è¶³ä»¥ä¸‹ä»»æ„ä¸€æ¡å³å¯ï¼‰ï¼š

| æ¡ä»¶ | è¯´æ˜ |
| --- | --- |
| âœ… å·¥å…·æ˜¯ä¸»æµçš„ï¼ˆå¦‚ `tsc`, `gcc`, `eslint`, `msbuild`, `go build`ï¼‰ | VSCode ä¸ºè¿™äº›å·¥å…·é¢„å®šä¹‰äº† matcher |
| âœ… é”™è¯¯è¾“å‡ºæ ¼å¼æ˜¯æ ‡å‡†çš„ã€å¸¸è§çš„ï¼ˆå¦‚ `file.ts(10,5): error ...`ï¼‰ | å†…ç½® matcher é€šå¸¸è¦†ç›–è¿™äº›æ¨¡å¼ |
| âœ… å®˜æ–¹æ–‡æ¡£æˆ–ç¤¾åŒºæ¨èä½¿ç”¨æŸä¸ªå†…ç½® matcher | æ¯”å¦‚ TypeScript å®˜æ–¹æ¨è `$tsc` |

#### å¸¸è§å·¥å…·ä¸å¯¹åº”å†…ç½® matcherï¼š

| å·¥å…·                         | æ¨è `problemMatcher`                  |
| ---------------------------- | -------------------------------------- |
| TypeScript (`tsc`)           | `$tsc`                                 |
| GCC / G++ / Clang            | `$gcc`                                 |
| ESLint                       | `$eslint-stylish` æˆ– `$eslint-compact` |
| Webpackï¼ˆCLI è¾“å‡ºï¼‰          | `$tsc`ï¼ˆæœ‰æ—¶å¯ç”¨ï¼Œä½†å»ºè®®è‡ªå®šä¹‰ï¼‰       |
| Pythonï¼ˆ`pylint`, `flake8`ï¼‰ | `$python-lint`ï¼ˆéƒ¨åˆ†æ”¯æŒï¼‰ï¼Œæˆ–è‡ªå®šä¹‰   |
| Go (`go build`)              | `$go`                                  |
| MSBuildï¼ˆC#ï¼‰                | `$msbuild`                             |

> ğŸ’¡ æç¤ºï¼šä½ å¯ä»¥åœ¨ VSCode å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥çœ‹æ‰€æœ‰å†…ç½®çš„ problemMatcherï¼š  
> https://code.visualstudio.com/docs/editor/tasks#_problem-matchers

---

### ğŸ› ï¸ **éœ€è¦è‡ªå®šä¹‰ `problemMatcher` çš„æƒ…å†µ**

å½“ä»¥ä¸‹æƒ…å†µå‘ç”Ÿæ—¶ï¼Œå°±å¿…é¡»è‡ªå®šä¹‰ï¼š

| æƒ…å†µ | è¯´æ˜ |
| --- | --- |
| âŒ æ²¡æœ‰åˆé€‚çš„å†…ç½® matcher | æ¯”å¦‚ä½ ç”¨çš„æ˜¯ç§æœ‰ç¼–è¯‘å™¨ã€ç‰¹æ®Šæ ¼å¼çš„è„šæœ¬ |
| âŒ å†…ç½® matcher åŒ¹é…å¤±è´¥ | è™½ç„¶ç”¨äº† `$tsc`ï¼Œä½† Problems é¢æ¿æ²¡æ˜¾ç¤ºé”™è¯¯ |
| âŒ è¾“å‡ºæ ¼å¼ä¸æ ‡å‡† | æ¯”å¦‚æ—¥å¿—å‰åŠ äº†æ—¶é—´æˆ³ã€é¢œè‰²ä»£ç ã€åŒ…è£…ä¿¡æ¯ç­‰ |
| âŒ å¤šè¡Œé”™è¯¯ä¿¡æ¯ | å¦‚ Python çš„ tracebackã€Java çš„ stack trace |
| âŒ ä½¿ç”¨è‡ªå®šä¹‰è„šæœ¬æˆ– Makefile è¾“å‡ºç‰¹æ®Šæ ¼å¼ |

---

## äºŒã€å¦‚ä½•é€‰æ‹©å†…ç½®çš„ `problemMatcher`ï¼Ÿåˆ¤æ–­æµç¨‹

ä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æµç¨‹å›¾æ¥é€‰æ‹©ï¼š

```
å¼€å§‹
  â†“
ä½ çš„æ„å»ºå·¥å…·æ˜¯ä¸»æµå·¥å…·å—ï¼Ÿï¼ˆtsc, gcc, eslint, go, etc.ï¼‰
  â”œâ”€ æ˜¯ â†’ æŸ¥çœ‹ VSCode æ–‡æ¡£æ˜¯å¦æ”¯æŒå†…ç½® matcher
  â”‚         â†“
  â”‚       æœ‰ â†’ å°è¯•ä½¿ç”¨ï¼ˆå¦‚ $tsc, $gccï¼‰
  â”‚         â†“
  â”‚       æµ‹è¯•ï¼šè¿è¡Œä»»åŠ¡ï¼Œçœ‹ Problems é¢æ¿æ˜¯å¦æœ‰é”™è¯¯æ˜¾ç¤ºï¼Ÿ
  â”‚         â”œâ”€ æ˜¯ â†’ æˆåŠŸï¼Œæ— éœ€è‡ªå®šä¹‰
  â”‚         â””â”€ å¦ â†’ å¯èƒ½è¾“å‡ºè¢«åŒ…è£…ï¼Œéœ€è‡ªå®šä¹‰
  â””â”€ å¦ â†’ å¿…é¡»è‡ªå®šä¹‰ problemMatcher
```

### âœ… å®é™…åˆ¤æ–­ç¤ºä¾‹

| åœºæ™¯ | æ˜¯å¦ç”¨å†…ç½®ï¼Ÿ | é€‰æ‹©å“ªä¸ªï¼Ÿ |
| --- | --- | --- |
| ç”¨ `tsc --build` ç¼–è¯‘ TS | âœ… æ˜¯ | `$tsc` |
| ç”¨ `gcc main.c -o main` | âœ… æ˜¯ | `$gcc` |
| ç”¨ `eslint src/**/*.js` | âœ… æ˜¯ | `$eslint-compact` |
| ç”¨ `python my_checker.py` è¾“å‡º `error: file.py:10: bad syntax` | âŒ å¦ | è‡ªå®šä¹‰ |
| ç”¨ `make` è°ƒç”¨è„šæœ¬ï¼Œè¾“å‡ºå¸¦ `[ERROR]` å‰ç¼€ | âŒ å¦ | è‡ªå®šä¹‰ |

---

## ä¸‰ã€è‡ªå®šä¹‰ `problemMatcher` çš„ä¹¦å†™æµç¨‹ï¼ˆè¯¦ç»†æ­¥éª¤ï¼‰

### ğŸ”§ æ­¥éª¤ 1ï¼šè·å–ä»»åŠ¡çš„çœŸå®è¾“å‡º

å…ˆè¿è¡Œä½ çš„æ„å»ºå‘½ä»¤ï¼Œåœ¨ç»ˆç«¯ä¸­**å¤åˆ¶å®Œæ•´çš„é”™è¯¯è¾“å‡º**ã€‚

ä¾‹å¦‚ï¼š

```text
[ERROR] src/main.ts(12,5): error TS2304: Cannot find name 'undefinedVar'
```

æˆ–ï¼š

```text
Lint error at utils.py:34: variable 'x' is not defined
```

---

### ğŸ”§ æ­¥éª¤ 2ï¼šåˆ†æè¾“å‡ºç»“æ„ï¼Œæ‹†è§£å­—æ®µ

å°†è¾“å‡ºæŒ‰è¯­ä¹‰æ‹†è§£ï¼š

| å†…å®¹         | ç¤ºä¾‹                        | å¯¹åº”å­—æ®µ   |
| ------------ | --------------------------- | ---------- |
| æ–‡ä»¶å       | `src/main.ts` æˆ– `utils.py` | `file`     |
| è¡Œå·         | `12`                        | `line`     |
| åˆ—å·ï¼ˆå¯é€‰ï¼‰ | `5`                         | `column`   |
| ä¸¥é‡æ€§       | `error`, `warning`          | `severity` |
| æ¶ˆæ¯         | `Cannot find name 'xxx'`    | `message`  |

---

### ğŸ”§ æ­¥éª¤ 3ï¼šå†™æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…

ä½¿ç”¨æ­£åˆ™æ•è·è¿™äº›å­—æ®µã€‚æ¨èä½¿ç”¨ [regex101.com](https://regex101.com/) æµ‹è¯•ã€‚

#### ç¤ºä¾‹ 1ï¼šåŒ¹é… `src/main.ts(12,5): error ...`

```regex
^.*\s(.*)\((\d+),(\d+)\):\s+(error|warning)\s+(.*)$
```

- æ•è·ç»„ 1ï¼šæ–‡ä»¶å
- æ•è·ç»„ 2ï¼šè¡Œå·
- æ•è·ç»„ 3ï¼šåˆ—å·
- æ•è·ç»„ 4ï¼šä¸¥é‡æ€§
- æ•è·ç»„ 5ï¼šæ¶ˆæ¯

> âš ï¸ æ³¨æ„ï¼šå¦‚æœè¾“å‡ºæœ‰é¢œè‰²æˆ–å‰ç¼€ï¼ˆå¦‚ `[ERROR]`ï¼‰ï¼Œè¦åŒ…å«åœ¨æ­£åˆ™ä¸­ä½†ä¸æ•è·ã€‚

#### ç¤ºä¾‹ 2ï¼šåŒ¹é… `Lint error at utils.py:34: variable 'x' is not defined`

```regex
^.*:\s*(\w+\.py):(\d+):\s*(.*)$
```

---

### ğŸ”§ æ­¥éª¤ 4ï¼šé…ç½® `problemMatcher`

```json
"problemMatcher": {
  "owner": "python",                    // è¯­è¨€ç±»å‹ï¼Œç”¨äºåŒºåˆ†é—®é¢˜æ¥æº
  "fileLocation": ["relative", "${workspaceFolder}"],
  "pattern": {
    "regexp": "^.*\\s(.*)\\((\\d+),(\\d+)\\):\\s+(error|warning)\\s+(.*)$",
    "file": 1,
    "line": 2,
    "column": 3,
    "severity": 4,
    "message": 5
  }
}
```

> ğŸ”¹ `fileLocation`: å¦‚æœè¾“å‡ºæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œç”¨ `"relative"`ï¼›å¦‚æœæ˜¯ç»å¯¹è·¯å¾„ï¼Œå¯ç”¨ `"absolute"`ã€‚

---

### ğŸ”§ æ­¥éª¤ 5ï¼šæµ‹è¯•ä¸è°ƒè¯•

1. åœ¨ VSCode ä¸­è¿è¡Œä»»åŠ¡ï¼ˆ`Ctrl+Shift+P` â†’ `Tasks: Run Task`ï¼‰
2. æ•…æ„åˆ¶é€ ä¸€ä¸ªé”™è¯¯ï¼Œè®©å·¥å…·è¾“å‡ºé”™è¯¯ä¿¡æ¯
3. æ‰“å¼€ **Problems é¢æ¿**ï¼ˆ`Ctrl+Shift+M`ï¼‰
4. æŸ¥çœ‹æ˜¯å¦æœ‰é—®é¢˜åˆ—å‡ºï¼Ÿèƒ½å¦ç‚¹å‡»è·³è½¬ï¼Ÿ

ğŸ”§ å¦‚æœæ²¡æ˜¾ç¤ºï¼š

- æ£€æŸ¥æ­£åˆ™æ˜¯å¦åŒ¹é…ï¼ˆå¯ç”¨ regex101 æµ‹è¯•ï¼‰
- æ£€æŸ¥ `fileLocation` æ˜¯å¦æ­£ç¡®è§£æè·¯å¾„
- æ£€æŸ¥è¾“å‡ºæ˜¯å¦è¢« shell åŒ…è£…ï¼ˆå¦‚ `sh -c "..."` å¯èƒ½å½±å“è¾“å‡ºï¼‰

---

## å››ã€é«˜çº§æŠ€å·§

### 1. å¤šè¡Œé”™è¯¯åŒ¹é…ï¼ˆå¦‚ Python tracebackï¼‰

```json
"pattern": [
  {
    "regexp": "^File \"(.*)\", line (\\d+)$",
    "file": 1,
    "line": 2,
    "loop": true
  },
  {
    "regexp": "^\\s*(.*)$",
    "message": 1
  }
]
```

`loop: true` è¡¨ç¤ºç»§ç»­åŒ¹é…ä¸‹ä¸€è¡Œï¼Œç›´åˆ°ä¸å†åŒ¹é…ä¸ºæ­¢ã€‚

---

### 2. å¿½ç•¥éé”™è¯¯è¡Œ

æœ‰äº›è¾“å‡ºåŒ…å«â€œç¼–è¯‘æˆåŠŸâ€ç­‰ä¿¡æ¯ï¼Œå¯ä»¥ç”¨ `kind: "issue"` å’Œ `background` é…åˆã€‚

---

## äº”ã€æ€»ç»“ï¼šå†³ç­–æ ‘ + æµç¨‹å›¾

```
æ˜¯å¦ä½¿ç”¨ä¸»æµå·¥å…·ï¼Ÿ â”€â”€æ˜¯â”€â”€â†’ æ˜¯å¦æœ‰å†…ç½® matcherï¼Ÿ â”€â”€æ˜¯â”€â”€â†’ å°è¯•ä½¿ç”¨ï¼ˆå¦‚ $tscï¼‰
     â†“å¦                    â†“å¦
     â”‚                      â†“
     â”‚                   è¾“å‡ºæ ¼å¼æ ‡å‡†ï¼Ÿ â”€â”€æ˜¯â”€â”€â†’ è‡ªå®šä¹‰æ­£åˆ™
     â”‚                                      â†“å¦
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ è‡ªå®šä¹‰ matcherï¼ˆå¿…é¡»ï¼‰
```

---

## å…­ã€æ¨èå®è·µ

1. **ä¼˜å…ˆå°è¯•å†…ç½® matcher**ï¼Œå“ªæ€•ä¸å®Œç¾ä¹Ÿå…ˆè¯•ã€‚
2. **å¤åˆ¶çœŸå®é”™è¯¯è¾“å‡º**ï¼Œä½œä¸ºæ­£åˆ™ç¼–å†™çš„ä¾æ®ã€‚
3. **ä½¿ç”¨ regex101 è°ƒè¯•æ­£åˆ™**ï¼Œç¡®ä¿æ•è·ç»„æ­£ç¡®ã€‚
4. **æµ‹è¯•è·³è½¬åŠŸèƒ½**ï¼šç‚¹å‡» Problems èƒ½å¦è·³åˆ°å¯¹åº”æ–‡ä»¶è¡Œï¼Ÿ
5. **å‘½å owner**ï¼šå¦‚ `"typescript"`, `"cpp"`ï¼Œä¾¿äºåˆ†ç±»ã€‚

---

âœ… æœ€åæé†’ï¼š  
`problemMatcher` æ˜¯æå‡å¼€å‘ä½“éªŒçš„å…³é”®é…ç½®ã€‚ä¸€æ—¦é…ç½®æˆåŠŸï¼Œä½ å°±å¯ä»¥åƒ IDE ä¸€æ ·â€œç¼–è¯‘å³æŠ¥é”™ï¼Œç‚¹å‡»å³è·³è½¬â€ï¼Œå¤§å¹…æå‡æ•ˆç‡ï¼

å¦‚æœä½ æä¾›ä¸€ä¸ªå…·ä½“çš„å·¥å…·æˆ–è¾“å‡ºç¤ºä¾‹ï¼Œæˆ‘å¯ä»¥å¸®ä½ å†™å‡ºå®Œæ•´çš„ `problemMatcher` é…ç½®ã€‚

### USER

æˆ‘æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ tasksï¼Œç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ï¼ŒåŒºåˆ«æ— éå°±æ˜¯æ˜¯å¦ä¼šè¾“å‡ºæ›´å‹å¥½çš„ bug ä½ç½®å¯¼èˆªé“¾æ¥

### ASSISTANT

è¿™æ˜¯ä¸€ä¸ªéå¸¸å®é™…ã€ä¹Ÿå¾ˆå¸¸è§çš„é—®é¢˜ï¼ä½ é—®å¾—éå¸¸å¥½ï¼š

> **â€œæˆ‘æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ `tasks.json`ï¼Œç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ï¼ŸåŒºåˆ«æ— éå°±æ˜¯æ˜¯å¦æœ‰æ›´å‹å¥½çš„é”™è¯¯å¯¼èˆªé“¾æ¥ï¼Ÿâ€**

ç­”æ¡ˆæ˜¯ï¼š**æ˜¯çš„ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ï¼Œè€Œä¸”å¾ˆå¤šæ—¶å€™å¼€å‘è€…ç¡®å®è¿™ä¹ˆåšã€‚ä½†ä½¿ç”¨ `tasks.json` + `problemMatcher` å¸¦æ¥çš„ä¸ä»…ä»…æ˜¯â€œæ›´å‹å¥½çš„é“¾æ¥â€ï¼Œè€Œæ˜¯ä¸€æ•´å¥—é›†æˆå¼€å‘ä½“éªŒçš„æå‡ã€‚**

ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†å¯¹æ¯”ä¸¤è€…çš„åŒºåˆ«ï¼Œå¹¶è¯´æ˜**ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å“ªä¸ª**ã€‚

---

## âœ… ä¸€ã€ç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ï¼ˆæ‰‹åŠ¨æ–¹å¼ï¼‰

### æ“ä½œæ–¹å¼ï¼š

æ‰“å¼€ VSCode å†…ç½®ç»ˆç«¯ï¼ˆæˆ–å¤–éƒ¨ç»ˆç«¯ï¼‰ï¼Œè¾“å…¥ï¼š

```bash
tsc
gcc main.c -o main
npm run build
python check.py
```

### ç‰¹ç‚¹ï¼š

| ä¼˜ç‚¹                     | ç¼ºç‚¹                                  |
| ------------------------ | ------------------------------------- |
| ç®€å•ç›´æ¥ï¼Œæ— éœ€é…ç½®       | é”™è¯¯ä¿¡æ¯åªæ˜¯æ–‡æœ¬ï¼Œä¸èƒ½ç‚¹å‡»è·³è½¬        |
| å®æ—¶çœ‹åˆ°å®Œæ•´è¾“å‡º         | æ— æ³•åœ¨â€œProblemsâ€é¢æ¿ç»Ÿä¸€ç®¡ç†é”™è¯¯      |
| è°ƒè¯•æ–¹ä¾¿ï¼Œå¯éšæ—¶ä¿®æ”¹å‚æ•° | ä¸æ”¯æŒè‡ªåŠ¨è§¦å‘ï¼ˆå¦‚ä¿å­˜åæ„å»ºï¼‰        |
| é€‚åˆæ¢ç´¢æ€§è°ƒè¯•           | éš¾ä»¥ä¸å…¶ä»–åŠŸèƒ½ï¼ˆå¦‚ watchã€debugï¼‰é›†æˆ |

> â— ä½ æåˆ°çš„â€œæ˜¯å¦æœ‰æ›´å‹å¥½çš„ bug ä½ç½®å¯¼èˆªé“¾æ¥â€ç¡®å®æ˜¯**æœ€ç›´è§‚çš„åŒºåˆ«**ï¼Œä½†è¿™åªæ˜¯å†°å±±ä¸€è§’ã€‚

---

## âœ… äºŒã€ä½¿ç”¨ `tasks.json` çš„ä¼˜åŠ¿ï¼ˆä¸åªæ˜¯è·³è½¬é“¾æ¥ï¼‰

è™½ç„¶ä½ å¯ä»¥æ‰‹åŠ¨è¿è¡Œå‘½ä»¤ï¼Œä½† `tasks.json` æä¾›äº†**è‡ªåŠ¨åŒ–ã€ç»“æ„åŒ–ã€é›†æˆåŒ–**çš„èƒ½åŠ›ã€‚

### 1. âœ… **é”™è¯¯å¯ç‚¹å‡»è·³è½¬ï¼ˆProblems é¢æ¿ï¼‰**

è¿™æ˜¯æœ€æ˜æ˜¾çš„ä½“éªŒæå‡ã€‚

- ä½¿ç”¨ `problemMatcher` åï¼Œé”™è¯¯ä¼šå‡ºç°åœ¨ **Problems é¢æ¿**ä¸­ã€‚
- ç‚¹å‡»å³å¯è·³è½¬åˆ°å¯¹åº”æ–‡ä»¶çš„å¯¹åº”è¡Œã€‚
- æ”¯æŒè¿‡æ»¤ï¼šåªçœ‹ errorã€warningï¼Œæˆ–æŸä¸ªæ–‡ä»¶çš„é—®é¢˜ã€‚

> ğŸ’¡ è¿™å°±åƒ IDEï¼ˆå¦‚ VSã€IntelliJï¼‰çš„â€œç¼–è¯‘æŠ¥é”™åˆ—è¡¨â€ã€‚

---

### 2. âœ… **ä¸ç¼–è¾‘å™¨æ·±åº¦é›†æˆ**

- å¯è®¾ç½® `group: "build"`ï¼Œç„¶åé€šè¿‡ `Ctrl+Shift+P` â†’ **Run Build Task** å¿«é€Ÿè§¦å‘ã€‚
- å¯ç»‘å®šå¿«æ·é”®ï¼ˆéœ€é…ç½® `keybindings.json`ï¼‰ã€‚
- æ”¯æŒ `watch` æ¨¡å¼ï¼šæ–‡ä»¶ä¿å­˜åè‡ªåŠ¨é‡æ–°è¿è¡Œä»»åŠ¡ï¼ˆæ¯”å¦‚ `tsc --watch`ï¼‰ã€‚

```json
"watch": true,
"problemMatcher": "$tsc"
```

è¿™æ ·ä½ å†™ä»£ç æ—¶ï¼Œ**ä¿å­˜å³ç¼–è¯‘ + å®æ—¶é”™è¯¯æç¤º**ï¼Œä½“éªŒæ¥è¿‘ç°ä»£å‰ç«¯å¼€å‘ã€‚

---

### 3. âœ… **è·¨å¹³å°ä¸€è‡´æ€§**

`tasks.json` å¯ä»¥å†™æ¡ä»¶åˆ¤æ–­ï¼Œé€‚é…ä¸åŒæ“ä½œç³»ç»Ÿï¼š

```json
"command": "${input:buildCommand}"
```

æˆ–ä½¿ç”¨ `${config:shell}`ã€å¹³å°ç›¸å…³é…ç½®ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜åœ¨ Windows/macOS/Linux ä¸Šéƒ½èƒ½è¿è¡Œã€‚

---

### 4. âœ… **æ”¯æŒå¤æ‚ä»»åŠ¡æµç¨‹**

ä½ å¯ä»¥å®šä¹‰å¤šä¸ªä»»åŠ¡ï¼Œå¹¶è®¾ç½®ä¾èµ–å…³ç³»ï¼š

```json
"dependsOn": ["Compile", "Lint"]
```

ä¾‹å¦‚ï¼š

1. å…ˆ lint
2. å†ç¼–è¯‘
3. æœ€åæµ‹è¯•

è¿™äº›éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªå‘½ä»¤è§¦å‘ã€‚

---

### 5. âœ… **å¯è¢«å…¶ä»–å·¥å…·è°ƒç”¨**

- è¢« **Debug é…ç½®**è°ƒç”¨ï¼ˆ`preLaunchTask`ï¼‰ï¼šè¿è¡Œç¨‹åºå‰å…ˆæ„å»ºã€‚
- è¢« **æ‰©å±•æˆ–æ’ä»¶**è¯†åˆ«ï¼ˆå¦‚ C/C++ æ‰©å±•ä¼šæ¨èä½ é…ç½® build taskï¼‰ã€‚
- è¢« **CI/CD æˆ–è„šæœ¬**å‚è€ƒï¼ˆä½œä¸ºæ ‡å‡†åŒ–æ„å»ºæ–¹å¼ï¼‰ã€‚

---

## âœ… ä¸‰ã€å¯¹æ¯”æ€»ç»“ï¼šç»ˆç«¯ vs tasks.json

| åŠŸèƒ½          | ç»ˆç«¯æ‰‹åŠ¨è¿è¡Œ    | ä½¿ç”¨ `tasks.json` + `problemMatcher` |
| ------------- | --------------- | ------------------------------------ |
| è¿è¡Œå‘½ä»¤      | âœ… ç®€å•         | âœ… éœ€è¦é…ç½®ï¼Œä½†å¯å¤ç”¨                |
| æŸ¥çœ‹è¾“å‡º      | âœ… å®æ—¶å®Œæ•´     | âœ… æ”¯æŒé—®é¢˜æå–                      |
| é”™è¯¯è·³è½¬      | âŒ åªèƒ½æ‰‹åŠ¨æ‰¾   | âœ… ç‚¹å‡»è·³è½¬åˆ°æ–‡ä»¶è¡Œ                  |
| é”™è¯¯ç®¡ç†      | âŒ æ–‡æœ¬æ»šåŠ¨     | âœ… Problems é¢æ¿åˆ†ç±»ç®¡ç†             |
| è‡ªåŠ¨åŒ–æ„å»º    | âŒ æ‰‹åŠ¨è§¦å‘     | âœ… æ”¯æŒ `watch` æ¨¡å¼                 |
| ä¸ Debug é›†æˆ | âŒ ä¸è¡Œ         | âœ… å¯è®¾ `preLaunchTask`              |
| å›¢é˜Ÿå…±äº«      | âŒ é å£å¤´è¯´æ˜   | âœ… æäº¤åˆ° Gitï¼Œäººäººå¯ç”¨              |
| å¤šæ­¥éª¤ä»»åŠ¡    | âŒ æ‰‹åŠ¨ä¸€æ­¥æ­¥æ•² | âœ… å¯å®šä¹‰ä¾èµ–é“¾                      |

---

## âœ… å››ã€ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å“ªä¸ªï¼Ÿ

| åœºæ™¯ | æ¨èæ–¹å¼ |
| --- | --- |
| åˆæ¬¡å°è¯•æŸä¸ªå‘½ä»¤ï¼Œè°ƒè¯•è¾“å‡ºæ ¼å¼ | âœ… ç›´æ¥ç»ˆç«¯è¿è¡Œ |
| æ¢ç´¢æ€§å¼€å‘ï¼Œä¸´æ—¶æ£€æŸ¥é—®é¢˜ | âœ… ç»ˆç«¯æ›´å¿« |
| æ­£å¼é¡¹ç›®ï¼Œéœ€è¦ç¨³å®šæ„å»ºæµç¨‹ | âœ… ç”¨ `tasks.json` |
| å›¢é˜Ÿåä½œï¼Œå¸Œæœ›ç»Ÿä¸€æ„å»ºæ–¹å¼ | âœ… å¿…é¡»ç”¨ `tasks.json` |
| å¸Œæœ›ä¿å­˜åè‡ªåŠ¨æ£€æŸ¥é”™è¯¯ | âœ… ç”¨ `tasks.json` + `watch` + `problemMatcher` |
| æƒ³åœ¨ Debug å‰è‡ªåŠ¨ç¼–è¯‘ | âœ… ç”¨ `tasks.json` å¹¶è®¾ä¸º `preLaunchTask` |

---

## âœ… äº”ã€æœ€ä½³å®è·µå»ºè®®

1. **å¼€å‘åˆæœŸ**ï¼šåœ¨ç»ˆç«¯è¯•å‘½ä»¤ï¼Œç¡®è®¤è¾“å‡ºæ ¼å¼ã€‚
2. **ç¨³å®šå**ï¼šæŠŠå¸¸ç”¨å‘½ä»¤å†™å…¥ `tasks.json`ï¼Œé…ç½® `problemMatcher`ã€‚
3. **å›¢é˜Ÿé¡¹ç›®**ï¼šæäº¤ `.vscode/tasks.json`ï¼Œè®©æ‰€æœ‰äººå—ç›Šã€‚
4. **ç»“åˆå¿«æ·é”®**ï¼šæ¯”å¦‚ `Ctrl+Shift+B` é»˜è®¤è¿è¡Œ build taskï¼Œæå‡æ•ˆç‡ã€‚

---

## âœ… å…­ã€ä¸¾ä¸ªå®é™…ä¾‹å­

å‡è®¾ä½ å†™ C++ï¼š

```bash
g++ main.cpp -o main
```

### ç»ˆç«¯è¿è¡Œï¼š

- è¾“å‡ºé”™è¯¯ï¼š`main.cpp:5:10: error: â€˜xxxâ€™ was not declared`
- ä½ è¦è‡ªå·±æ‰“å¼€ `main.cpp`ï¼Œè·³åˆ°ç¬¬ 5 è¡Œã€‚

### ç”¨ tasks.jsonï¼š

```json
{
  "label": "Build C++",
  "type": "shell",
  "command": "g++",
  "args": ["main.cpp", "-o", "main"],
  "group": "build",
  "problemMatcher": "$gcc"
}
```

- æŒ‰ `Ctrl+Shift+B` æ„å»º
- é”™è¯¯å‡ºç°åœ¨ Problems é¢æ¿
- ç‚¹å‡»ç›´æ¥è·³è½¬åˆ°å‡ºé”™è¡Œ
- ä¿®å¤åå†æ¬¡æ„å»ºï¼Œé—®é¢˜è‡ªåŠ¨æ›´æ–°

> ğŸ¯ è¿™å°±æ˜¯â€œä»è„šæœ¬å¼æ“ä½œâ€å‡çº§åˆ°â€œå·¥ç¨‹åŒ–å¼€å‘â€çš„ä¸€æ­¥ã€‚

---

## âœ… æ€»ç»“

> **ä½ å½“ç„¶å¯ä»¥ä¸ç”¨ `tasks.json`ï¼Œç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ â€”â€” è¿™å®Œå…¨å¯è¡Œï¼Œå°¤å…¶åœ¨ç®€å•åœºæ™¯ä¸‹ã€‚**

ä½†ï¼š

> **ä½¿ç”¨ `tasks.json` + `problemMatcher` çš„çœŸæ­£ä»·å€¼ï¼Œä¸åªæ˜¯â€œæ›´å‹å¥½çš„é“¾æ¥â€ï¼Œè€Œæ˜¯ï¼š**
>
> - æŠŠæ„å»ºè¿‡ç¨‹**æ ‡å‡†åŒ–ã€è‡ªåŠ¨åŒ–ã€å¯è§†åŒ–**
> - å®ç° **ç¼–è¾‘ â†’ æ„å»º â†’ æ£€æŸ¥ â†’ è°ƒè¯•** çš„æ— ç¼é—­ç¯
> - æå‡ä¸ªäººå’Œå›¢é˜Ÿçš„å¼€å‘æ•ˆç‡ä¸ä½“éªŒ

ğŸ”§ æ‰€ä»¥å»ºè®®ï¼š

- **ç®€å•é¡¹ç›® / ä¸´æ—¶æµ‹è¯•**ï¼šç”¨ç»ˆç«¯
- **æ­£å¼é¡¹ç›® / å›¢é˜Ÿåä½œ / é•¿æœŸç»´æŠ¤**ï¼šä¸€å®šè¦é…ç½® `tasks.json`

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ æ ¹æ®ä½ å½“å‰ä½¿ç”¨çš„è¯­è¨€å’Œå·¥å…·ï¼Œå†™ä¸€ä¸ªå®Œæ•´çš„ `tasks.json` ç¤ºä¾‹ ğŸ˜Š

### USER

ä½¿ç”¨ problem matcher å¯ä»¥å¯¹ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„é”™è¯¯ã€è­¦å‘Šä¿¡æ¯è¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼Œåˆ†ç»„ï¼Œå¹¶ä¸”æ”¯æŒ watch æ¨¡å¼ï¼ˆæ¯”å¦‚åœ¨ä¿å­˜æ¨¡å—æˆ–è°ƒè¯•æ¨¡å—çš„æ—¶å€™è‡ªåŠ¨æ‰§è¡ŒæŒ‡å®š tasksï¼‰ã€‚è¿™äº›æˆ‘èƒ½ç†è§£ï¼Œä¸è¿‡ä½ è¯´çš„â€œå¤šæ­¥éª¤ä»»åŠ¡â€è¿™ä¸€ç‚¹ï¼Œæˆ‘è®¤ä¸ºä¹Ÿæ˜¯å¯ä»¥ç›´æ¥é€šè¿‡æ‰‹åŠ¨å‘½ä»¤æ¥å®ç°çš„ã€‚

### ASSISTANT

ä½ è¯´å¾—**éå¸¸å¯¹**ï¼Œè€Œä¸”ä½ çš„ç†è§£å¾ˆæ·±åˆ»ï¼

> âœ… **â€œå¤šæ­¥éª¤ä»»åŠ¡ä¹Ÿå¯ä»¥é€šè¿‡æ‰‹åŠ¨å‘½ä»¤å®ç°â€ â€”â€” è¿™åœ¨æŠ€æœ¯ä¸Šæ˜¯å®Œå…¨æ­£ç¡®çš„ã€‚**

æˆ‘ä»¬æ¥æ·±å…¥æ¢è®¨è¿™ä¸ªé—®é¢˜ï¼š  
**ä¸ºä»€ä¹ˆ VSCode è¿˜è¦æä¾› `tasks.json` æ¥å®šä¹‰å¤šæ­¥éª¤ä»»åŠ¡ï¼Ÿæ‰‹åŠ¨æ•²å‘½ä»¤ä¸è¡Œå—ï¼Ÿ**

ç­”æ¡ˆæ˜¯ï¼š**â€œèƒ½â€ â‰  â€œå¥½â€**ã€‚  
æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åšå¾ˆå¤šäº‹æƒ…ï¼Œä½†å·¥å…·å­˜åœ¨çš„æ„ä¹‰ï¼Œå°±æ˜¯æŠŠâ€œèƒ½åšâ€å˜æˆâ€œé«˜æ•ˆã€å¯é ã€å¯å¤ç”¨ã€å¯åä½œâ€ã€‚

---

## ğŸ” ä¸€ã€æ‰‹åŠ¨æ‰§è¡Œå¤šæ­¥éª¤ä»»åŠ¡ vs `tasks.json`ï¼šæœ¬è´¨åŒºåˆ«

| ç»´åº¦ | æ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤ | ä½¿ç”¨ `tasks.json` |
| --- | --- | --- |
| å‘½ä»¤é¡ºåº | è‡ªå·±è®°ä½ï¼šå…ˆ lint â†’ å† build â†’ å† test | è‡ªåŠ¨æŒ‰ `dependsOn` æ‰§è¡Œ |
| è¾“å…¥é”™è¯¯ | å¯èƒ½æ‹¼é”™æ–‡ä»¶åã€å‚æ•° | ä¸€æ¬¡é…ç½®ï¼Œæ°¸è¿œæ­£ç¡® |
| å¯é‡å¤æ€§ | ä¾èµ–è®°å¿†æˆ–æ–‡æ¡£ | ç‚¹ä¸€ä¸‹å°±è¿è¡Œå…¨éƒ¨ |
| å›¢é˜Ÿå…±äº« | éœ€å£å¤´/æ–‡æ¡£è¯´æ˜æµç¨‹ | æäº¤åˆ° Gitï¼Œäººäººå¯ç”¨ |
| è‡ªåŠ¨åŒ–é›†æˆ | âŒ éš¾ä»¥ä¸å…¶ä»–åŠŸèƒ½è”åŠ¨ | âœ… å¯è¢« Debugã€Watchã€Extension è°ƒç”¨ |
| é”™è¯¯å¤„ç† | å‡ºé”™åéœ€æ‰‹åŠ¨åˆ¤æ–­æ˜¯å¦ç»§ç»­ | âœ… å¯é…ç½®å¤±è´¥æ—¶ä¸­æ–­ |
| å¯ç»´æŠ¤æ€§ | ä¿®æ”¹æµç¨‹è¦é€šçŸ¥æ‰€æœ‰äºº | âœ… æ”¹ä¸€ä¸ª JSON æ–‡ä»¶å³å¯ |

---

## ğŸ§© äºŒã€ä¸¾ä¸ªå®é™…ä¾‹å­ï¼šå‰ç«¯æ„å»ºæµç¨‹

å‡è®¾ä½ è¦è¿è¡Œä¸‰ä¸ªæ­¥éª¤ï¼š

```bash
eslint src/**/*.js     # æ£€æŸ¥ä»£ç 
tsc --build             # ç¼–è¯‘ TypeScript
node build.js           # æ‰“åŒ…
```

### âœ… æ‰‹åŠ¨æ–¹å¼ï¼ˆä½ è¯´çš„â€œç›´æ¥è¿è¡Œâ€ï¼‰ï¼š

```bash
$ eslint src/**/*.js
$ tsc --build
$ node build.js
```

ğŸ‘‰ æ²¡é—®é¢˜ï¼Œèƒ½å·¥ä½œã€‚

ä½†ï¼š

- æ–°åŒäº‹æ¥äº†ï¼Œä»–æ€ä¹ˆçŸ¥é“è¦æŒ‰è¿™ä¸ªé¡ºåºæ‰§è¡Œï¼Ÿ
- ä½ å¿˜äº† `eslint`ï¼Œç›´æ¥ç¼–è¯‘ï¼Œç»“æœæŠŠé”™è¯¯ä»£ç æäº¤äº†ã€‚
- ä½ æƒ³åœ¨è°ƒè¯•å‰è‡ªåŠ¨è¿è¡Œæ•´ä¸ªæµç¨‹ï¼Ÿåšä¸åˆ°ã€‚
- ä½ æƒ³åœ¨ä¿å­˜æ—¶è‡ªåŠ¨æ£€æŸ¥ï¼Ÿå¾—å†™è„šæœ¬ã€‚

---

### âœ… ä½¿ç”¨ `tasks.json` å®šä¹‰ä¾èµ–é“¾ï¼š

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Lint",
      "type": "shell",
      "command": "eslint",
      "args": ["src/**/*.js"],
      "problemMatcher": "$eslint-compact"
    },
    {
      "label": "Compile",
      "type": "shell",
      "command": "tsc",
      "args": ["--build"],
      "dependsOn": ["Lint"],
      "problemMatcher": "$tsc"
    },
    {
      "label": "Bundle",
      "type": "shell",
      "command": "node",
      "args": ["build.js"],
      "dependsOn": ["Compile"]
    }
  ]
}
```

ç°åœ¨ä½ å¯ä»¥ï¼š

1. **åªè¿è¡Œæœ€åä¸€æ­¥**ï¼š`Bundle` ä¼šè‡ªåŠ¨å…ˆæ‰§è¡Œ `Compile` â†’ `Lint`
2. **ä¸€é”®æ„å»º**ï¼š`Ctrl+Shift+P` â†’ `Run Task` â†’ é€‰ `Bundle`ï¼Œå…¨è‡ªåŠ¨
3. **å¤±è´¥å³åœ**ï¼šå¦‚æœ `Lint` å‡ºé”™ï¼Œ`Compile` ä¸ä¼šæ‰§è¡Œ
4. **é›†æˆ Debug**ï¼š

```json
"configurations": [
  {
    "name": "Launch App",
    "type": "node",
    "request": "launch",
    "program": "dist/index.js",
    "preLaunchTask": "Bundle"  // ä¿å­˜å³æ„å»º + å¯åŠ¨
  }
]
```

ğŸ‘‰ è¿™å°±æ˜¯â€œ**å¼€å‘æµç¨‹è‡ªåŠ¨åŒ–**â€ã€‚

---

## ğŸ¯ ä¸‰ã€æ ¸å¿ƒä»·å€¼ï¼šä¸æ˜¯â€œèƒ½ä¸èƒ½â€ï¼Œè€Œæ˜¯â€œè¦ä¸è¦å·¥ç¨‹åŒ–â€

ä½ å®Œå…¨å¯ä»¥ç”¨ `&&` æŠŠå‘½ä»¤ä¸²èµ·æ¥ï¼š

```bash
eslint . && tsc --build && node build.js
```

è¿™ç¡®å®å®ç°äº†â€œå¤šæ­¥éª¤â€ï¼Œä½†ï¼š

| é—®é¢˜        | è¯´æ˜                                 |
| ----------- | ------------------------------------ |
| âŒ ä¸å¯è§†åŒ– | æ— æ³•åœ¨ Problems é¢æ¿çœ‹åˆ° eslint é”™è¯¯ |
| âŒ ä¸å¯è°ƒè¯• | ä¸­é—´æŸæ­¥å¤±è´¥ï¼Œä½ ä¸çŸ¥é“æ˜¯å“ªä¸€æ­¥       |
| âŒ ä¸å¯å¤ç”¨ | ä¸èƒ½è¢«å…¶ä»–ä»»åŠ¡æˆ–æ’ä»¶è°ƒç”¨             |
| âŒ ä¸å¯ç»„åˆ | ä¸èƒ½åªè¿è¡Œ `Lint` æˆ–åªè¿è¡Œ `Compile` |
| âŒ ä¸è·¨å¹³å° | Windows ä¸‹ `&&` å’Œ Linux ç•¥æœ‰å·®å¼‚    |

è€Œ `tasks.json` æä¾›çš„æ˜¯ï¼š

- **å£°æ˜å¼é…ç½®**ï¼šæè¿°â€œè¦åšä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œæ€ä¹ˆåšâ€
- **å¯ç»„åˆæ€§**ï¼šä»»åŠ¡å¯ä»¥è¢«å…¶ä»–ä»»åŠ¡ä¾èµ–
- **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒè¾“å…¥ã€å˜é‡ã€æ¡ä»¶ã€å¹³å°åˆ¤æ–­
- **å¯é›†æˆæ€§**ï¼šä¸ç¼–è¾‘å™¨çš„å…¶ä»–åŠŸèƒ½æ‰“é€š

---

## ğŸ› ï¸ å››ã€ä»€ä¹ˆæ—¶å€™å¯ä»¥ä¸ç”¨ tasks.jsonï¼Ÿ

ä½ å®Œå…¨å¯ä»¥ä¸ç”¨ `tasks.json`ï¼Œå¦‚æœæ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶ï¼š

âœ… é¡¹ç›®ç®€å•ï¼Œæ„å»ºæµç¨‹å›ºå®š  
âœ… åªæœ‰ä½ ä¸€ä¸ªäººå¼€å‘  
âœ… ä¸éœ€è¦è‡ªåŠ¨åŒ–ï¼ˆå¦‚ä¿å­˜åæ„å»ºï¼‰  
âœ… ä¸éœ€è¦ä¸ Debug é›†æˆ  
âœ… ä½ ä¸ä»‹æ„æ¯æ¬¡æ‰‹åŠ¨æ•²å‘½ä»¤  
âœ… ä½ ä¸æ€•æ‹¼é”™å‘½ä»¤æˆ–é¡ºåºå‡ºé”™

ğŸ‘‰ è¿™ç§æƒ…å†µä¸‹ï¼Œæ‰‹åŠ¨å‘½ä»¤**å®Œå…¨å¤Ÿç”¨**ï¼Œç”šè‡³æ›´çµæ´»ã€‚

---

## ğŸš€ äº”ã€ä»€ä¹ˆæ—¶å€™å¼ºçƒˆå»ºè®®ç”¨ tasks.jsonï¼Ÿ

å¦‚æœä½ å¸Œæœ›ï¼š

- âœ… å›¢é˜Ÿåä½œæ—¶æµç¨‹ä¸€è‡´
- âœ… æ–°äººå…¥èŒä¸ç”¨é—®â€œæ€ä¹ˆæ„å»ºâ€
- âœ… è°ƒè¯•å‰è‡ªåŠ¨ç¼–è¯‘
- âœ… ä¿å­˜æ–‡ä»¶åè‡ªåŠ¨æ£€æŸ¥é”™è¯¯ï¼ˆwatch æ¨¡å¼ï¼‰
- âœ… åœ¨ Problems é¢æ¿ç»Ÿä¸€æŸ¥çœ‹ lint + ç¼–è¯‘é”™è¯¯
- âœ… æ„å»ºå¤±è´¥æ—¶è‡ªåŠ¨ä¸­æ–­åç»­æ­¥éª¤
- âœ… æ”¯æŒ CI/CD è„šæœ¬å‚è€ƒæœ¬åœ°æ„å»ºæ–¹å¼

ğŸ‘‰ é‚£å°±å¿…é¡»ç”¨ `tasks.json`ã€‚

---

## âœ… æ€»ç»“ï¼šä½ çš„è§‚ç‚¹æ˜¯å¯¹çš„ï¼Œä½†å¯ä»¥æ›´è¿›ä¸€æ­¥

> ğŸŸ¢ **ä½ è¯´â€œå¤šæ­¥éª¤ä»»åŠ¡ä¹Ÿå¯ä»¥æ‰‹åŠ¨å®ç°â€â€”â€”å®Œå…¨æ­£ç¡®**ã€‚  
> ğŸ”µ **ä½† `tasks.json` çš„ä»·å€¼ä¸åœ¨äºâ€œèƒ½ä¸èƒ½â€ï¼Œè€Œåœ¨äºâ€œå¥½ä¸å¥½â€**ã€‚

å®ƒæŠŠï¼š

- **é›¶æ•£çš„æ‰‹åŠ¨æ“ä½œ** â†’ å˜æˆ **æ ‡å‡†åŒ–çš„å·¥ä½œæµ**
- **ä¸ªäººç»éªŒ** â†’ å˜æˆ **å¯å…±äº«çš„é…ç½®**
- **ä¸´æ—¶å‘½ä»¤** â†’ å˜æˆ **å¯æŒç»­é›†æˆçš„å·¥ç¨‹å®è·µ**

---

ğŸ”§ æ‰€ä»¥å»ºè®®ï¼š

- **å°é¡¹ç›®ã€ä¸´æ—¶å®éªŒ**ï¼šç›´æ¥ç»ˆç«¯è¿è¡Œï¼Œç®€å•é«˜æ•ˆã€‚
- **æ­£å¼é¡¹ç›®ã€å›¢é˜Ÿå¼€å‘ã€é•¿æœŸç»´æŠ¤**ï¼šç”¨ `tasks.json` æŠŠæµç¨‹â€œå›ºåŒ–â€ä¸‹æ¥ï¼Œæå‡å¯é æ€§å’Œåä½œæ•ˆç‡ã€‚

> ğŸ’¡ æœ€ä½³å®è·µï¼šå…ˆåœ¨ç»ˆç«¯è¯•å‘½ä»¤ â†’ ç¡®è®¤è¾“å‡ºæ ¼å¼ â†’ å†™å…¥ `tasks.json` â†’ æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ â†’ å…¨å‘˜å—ç›Šã€‚

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ æŠŠä½ çš„å¸¸ç”¨æ„å»ºå‘½ä»¤ï¼Œå†™æˆä¸€ä¸ªå®Œæ•´çš„ `tasks.json` ç¤ºä¾‹ ğŸ˜Š

### USER

æˆ‘ç†è§£ä½ è¯´çš„äº†ï¼Œä½ çš„æ„æ€æ˜¯é€šè¿‡ tasks å¯ä»¥è‡ªå®šä¹‰ä»»åŠ¡çš„ä¾èµ–å…³ç³»ï¼Œå®Œæˆè‡ªåŠ¨åŒ–çš„å¤„ç†æµç¨‹ï¼Œä¸€æ—¦å°è£…å¥½ tasks ä¹‹åï¼Œå°±æ— éœ€å…³æ³¨æµç¨‹ä¸­å„ä»»åŠ¡çš„å…ˆåé¡ºåºäº†ï¼Œå¯¹å—ï¼Ÿ

### ASSISTANT

âœ… **å®Œå…¨æ­£ç¡®ï¼ä½ æ€»ç»“å¾—éå¸¸ç²¾å‡†ã€‚**

ä½ çš„ç†è§£å·²ç»éå¸¸åˆ°ä½äº†ï¼š

> **é€šè¿‡ `tasks.json` å®šä¹‰ä»»åŠ¡åŠå…¶ä¾èµ–å…³ç³»ï¼Œå°è£…å¥½è‡ªåŠ¨åŒ–æµç¨‹åï¼Œä½¿ç”¨è€…å°±æ— éœ€å…³å¿ƒå†…éƒ¨ä»»åŠ¡çš„å…ˆåé¡ºåºï¼Œåªéœ€è§¦å‘ä¸€ä¸ªâ€œé¡¶å±‚ä»»åŠ¡â€ï¼ŒVSCode ä¼šè‡ªåŠ¨æŒ‰ä¾èµ–é¡ºåºæ‰§è¡Œå„æ­¥éª¤ã€‚**

---

## ğŸ¯ è¿™æ­£æ˜¯ `tasks.json` çš„æ ¸å¿ƒä»·å€¼ä¹‹ä¸€ï¼š**æµç¨‹å°è£… + è‡ªåŠ¨è°ƒåº¦**

### âœ… ä¸¾ä¸ªå½¢è±¡çš„æ¯”å–»ï¼š

ä½ å°±åƒä¸€ä¸ªé¡¹ç›®ç»ç†ï¼Œå®šä¹‰å¥½äº†æ•´ä¸ªæ„å»ºæµæ°´çº¿ï¼š

```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Lint  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Compile â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Bundle  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Test   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç„¶åä½ å‘Šè¯‰å›¢é˜Ÿæˆå‘˜ï¼š

> â€œåˆ«ç®¡ä¸­é—´å‡ æ­¥ï¼Œä½ åªè¦è¿è¡Œ `Test` ä»»åŠ¡ï¼Œå®ƒä¼šè‡ªåŠ¨å…ˆ `Lint â†’ Compile â†’ Bundle`ã€‚â€

ä»–ä»¬ä¸éœ€è¦è®°ä½é¡ºåºï¼Œä¹Ÿä¸ä¼šæ¼æ‰æŸä¸€æ­¥ã€‚

---

## âœ… å…·ä½“æ¥è¯´ï¼Œ`tasks.json` å¸®ä½ åšåˆ°äº†ï¼š

| èƒ½åŠ›            | è¯´æ˜                                                |
| --------------- | --------------------------------------------------- |
| ğŸ”— **ä¾èµ–ç®¡ç†** | ç”¨ `"dependsOn": ["A", "B"]` å£°æ˜ä¾èµ–ï¼Œè‡ªåŠ¨æŒ‰åºæ‰§è¡Œ |
| â±ï¸ **è‡ªåŠ¨æ‰§è¡Œ** | è¿è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œè‡ªåŠ¨è§¦å‘å®ƒçš„æ‰€æœ‰å‰ç½®ä»»åŠ¡              |
| ğŸ›‘ **å¤±è´¥ä¸­æ–­** | å¦‚æœæŸä¸€æ­¥å¤±è´¥ï¼ˆå¦‚ Lint å‡ºé”™ï¼‰ï¼Œåç»­ä»»åŠ¡ä¸ä¼šæ‰§è¡Œ    |
| ğŸ§© **å¯ç»„åˆæ€§** | æ¯ä¸ªä»»åŠ¡å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ›´å¤§æµç¨‹çš„ä¸€éƒ¨åˆ†    |
| ğŸ“¦ **å°è£…ç»†èŠ‚** | ç”¨æˆ·åªéœ€å…³å¿ƒâ€œæˆ‘è¦æ„å»ºâ€æˆ–â€œæˆ‘è¦æµ‹è¯•â€ï¼Œä¸å…³å¿ƒå†…éƒ¨æ­¥éª¤  |

---

## âœ… ç¤ºä¾‹ï¼šåªè¿è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œè‡ªåŠ¨å®Œæˆå…¨æµç¨‹

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Lint",
      "command": "eslint",
      "args": ["src/**/*.ts"]
    },
    {
      "label": "Compile",
      "command": "tsc",
      "args": ["--build"],
      "dependsOn": ["Lint"]
    },
    {
      "label": "Package",
      "command": "zip",
      "args": ["-r", "dist.zip", "dist/"],
      "dependsOn": ["Compile"]
    },
    {
      "label": "Deploy",
      "command": "scp",
      "args": ["dist.zip", "user@server:/app/"],
      "dependsOn": ["Package"]
    }
  ]
}
```

ğŸ‘‰ ä½ åªéœ€è¦è¿è¡Œï¼š

```bash
Deploy
```

VSCode ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š

```
Lint â†’ Compile â†’ Package â†’ Deploy
```

ä½ **ä¸éœ€è¦æ‰‹åŠ¨ä¸€æ­¥æ­¥æ•²å‘½ä»¤**ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒé¡ºåºé”™æˆ–æ¼æ­¥ã€‚

---

## âœ… æ›´è¿›ä¸€æ­¥ï¼šä¸ç¼–è¾‘å™¨é›†æˆ

ä¸€æ—¦å°è£…å¥½ï¼Œè¿™äº›ä»»åŠ¡è¿˜èƒ½è¢«å…¶ä»–åŠŸèƒ½è°ƒç”¨ï¼š

| é›†æˆæ–¹å¼       | è¯´æ˜                                              |
| -------------- | ------------------------------------------------- |
| `Ctrl+Shift+B` | è¿è¡Œ `build` ç»„çš„ä»»åŠ¡                             |
| Debug é…ç½®     | `"preLaunchTask": "Deploy"` â€”â€” å¯åŠ¨è°ƒè¯•å‰è‡ªåŠ¨éƒ¨ç½² |
| æ–‡ä»¶ä¿å­˜æ—¶     | é…åˆ `watch: true`ï¼Œä¿å­˜å³æ£€æŸ¥/ç¼–è¯‘               |
| å›¢é˜Ÿå…±äº«       | æäº¤ `tasks.json`ï¼Œæ–°äººå¼€ç®±å³ç”¨                   |

---

## âœ… æ€»ç»“ï¼šä½ è¯´å¾—å¯¹ï¼Œè€Œä¸”å¯ä»¥å†å‡åä¸€ä¸‹

> âœ… **ä½ è¯´ï¼šâ€œå°è£…å¥½ tasks ä¹‹åï¼Œå°±æ— éœ€å…³æ³¨æµç¨‹ä¸­å„ä»»åŠ¡çš„å…ˆåé¡ºåºäº†â€ â€”â€” å®Œå…¨æ­£ç¡®ã€‚**

è¿™å…¶å®å°±æ˜¯ **â€œå£°æ˜å¼ç¼–ç¨‹â€** çš„æ€æƒ³ï¼š

- ä½ **å£°æ˜**äº†â€œæˆ‘è¦åšä»€ä¹ˆâ€å’Œâ€œä¾èµ–å…³ç³»â€
- VSCode **è‡ªåŠ¨å¸®ä½ è°ƒåº¦æ‰§è¡Œé¡ºåº**
- ä½ ä»â€œæ“ä½œå·¥äººâ€å˜æˆäº†â€œæµç¨‹è®¾è®¡è€…â€

ğŸ”§ è¿™æ­£æ˜¯ç°ä»£å¼€å‘å·¥å…·çš„æ ¸å¿ƒç†å¿µï¼š**æŠŠé‡å¤åŠ³åŠ¨è‡ªåŠ¨åŒ–ï¼ŒæŠŠç»éªŒå›ºåŒ–ä¸ºé…ç½®ï¼Œè®©å¼€å‘è€…ä¸“æ³¨åœ¨çœŸæ­£æœ‰ä»·å€¼çš„åœ°æ–¹ã€‚**

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ æŠŠä½ çš„å®é™…æ„å»ºæµç¨‹ï¼Œå†™æˆä¸€ä¸ªå®Œæ•´çš„ `tasks.json` ç¤ºä¾‹ï¼Œå®ç°â€œä¸€é”®æ„å»º + è‡ªåŠ¨ä¾èµ– + é”™è¯¯è·³è½¬â€çš„å®Œæ•´ä½“éªŒ ğŸ˜Š

### USER

é‚£ä¹ˆå¯¹äºä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œä½†æ˜¯è¿™äº›å‘½ä»¤éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡å¿…è¦å°è£…åˆ° tasks.json ä¸­äº†

### ASSISTANT

è¿™æ˜¯ä¸€ä¸ªéå¸¸åŠ¡å®ã€é«˜è´¨é‡çš„é—®é¢˜ï¼

> **â€œå¯¹äºä¸€äº›å¸¸ç”¨çš„ã€ä½†å½¼æ­¤ç‹¬ç«‹çš„å‘½ä»¤ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡å¿…è¦å°è£…åˆ° `tasks.json` ä¸­äº†ï¼Ÿâ€**

ç­”æ¡ˆæ˜¯ï¼š

> âœ… **ä¸ä¸€å®šã€‚å³ä½¿å‘½ä»¤æ˜¯ç‹¬ç«‹çš„ï¼Œä¹Ÿå€¼å¾—å°è£…åˆ° `tasks.json` ä¸­ â€”â€” åªè¦å®ƒä»¬å…·å¤‡ä»¥ä¸‹ç‰¹å¾ä¹‹ä¸€ï¼š**
>
> - ç»å¸¸ä½¿ç”¨
> - å‘½ä»¤è¾ƒé•¿æˆ–å®¹æ˜“æ‹¼é”™
> - å¸Œæœ›åœ¨å›¢é˜Ÿä¸­ç»Ÿä¸€ä½¿ç”¨æ–¹å¼
> - å¸Œæœ›é€šè¿‡å¿«æ·é”®æˆ–èœå•å¿«é€Ÿè§¦å‘
> - å¸Œæœ›ä¸ VSCode çš„ UI é›†æˆï¼ˆå¦‚ Problemsã€Debug ç­‰ï¼‰

---

## ğŸ¯ ä¸€ã€å…³é”®åŒºåˆ†ï¼š**â€œç‹¬ç«‹â€ â‰  â€œä¸é‡è¦â€**

ä½ è¯´çš„â€œç‹¬ç«‹â€æ˜¯æŒ‡ï¼š

- æ²¡æœ‰ä¾èµ–å…³ç³»ï¼ˆä¸äº’ä¸ºå‰åæ­¥éª¤ï¼‰
- åŠŸèƒ½å•ä¸€ï¼ˆå¦‚æ ¼å¼åŒ–ã€æ¸…ç†ç¼“å­˜ã€å¯åŠ¨æœåŠ¡å™¨ç­‰ï¼‰

ä½†è¿™å¹¶ä¸æ„å‘³ç€å®ƒä»¬ä¸å€¼å¾—å°è£…ã€‚

### âœ… ä¸¾ä¸ªä¾‹å­ï¼šå‡ ä¸ªç‹¬ç«‹ä½†å¸¸ç”¨çš„å‘½ä»¤

| å‘½ä»¤             | ä½œç”¨           | æ˜¯å¦ç‹¬ç«‹ | æ˜¯å¦å€¼å¾—å°è£…ï¼Ÿ |
| ---------------- | -------------- | -------- | -------------- |
| `npm run clean`  | æ¸…ç† dist ç›®å½• | æ˜¯       | âœ… å€¼å¾—        |
| `npm run format` | æ ¼å¼åŒ–ä»£ç      | æ˜¯       | âœ… å€¼å¾—        |
| `npm run dev`    | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ | æ˜¯       | âœ… å€¼å¾—        |
| `npm run lint`   | æ£€æŸ¥ä»£ç è´¨é‡   | æ˜¯       | âœ… å€¼å¾—        |

è¿™äº›ä»»åŠ¡å½¼æ­¤ç‹¬ç«‹ï¼Œä½†ä½ **æ¯å¤©éƒ½å¯èƒ½ç”¨åˆ°å¥½å‡ æ¬¡**ã€‚

---

## âœ… äºŒã€å³ä½¿ç‹¬ç«‹ï¼Œå°è£…åˆ° `tasks.json` ä»æœ‰æ˜æ˜¾å¥½å¤„

| å¥½å¤„ | è¯´æ˜ |
| --- | --- |
| ğŸš€ **å¿«é€Ÿè®¿é—®** | `Ctrl+Shift+P` â†’ `Tasks: Run Task`ï¼Œé€‰æ‹©å³å¯è¿è¡Œï¼Œä¸ç”¨æ•²å‘½ä»¤ |
| âŒ¨ï¸ **é¿å…æ‹¼å†™é”™è¯¯** | ä¸ç”¨æ¯æ¬¡æ•² `npm run very-long-task-name-with-typo-prone` |
| ğŸ“‹ **å¯è§†åŒ–åˆ—è¡¨** | æ‰€æœ‰å¯ç”¨ä»»åŠ¡ä¸€ç›®äº†ç„¶ï¼Œæ–°äººä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ |
| ğŸ”§ **é›†æˆ problemMatcher** | å³ä½¿æ˜¯ç‹¬ç«‹ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥æå–é”™è¯¯ï¼ˆå¦‚ `lint` çš„è­¦å‘Šï¼‰ |
| ğŸ¯ **ç»‘å®šå¿«æ·é”®** | å¯ä¸ºå¸¸ç”¨ä»»åŠ¡è®¾å¿«æ·é”®ï¼ˆå¦‚ `Ctrl+Shift+L` è¿è¡Œ lintï¼‰ |
| ğŸ’¡ **æ”¯æŒè¾“å…¥å‚æ•°** | å¯é…ç½®åŠ¨æ€è¾“å…¥ï¼ˆå¦‚é€‰æ‹©ç¯å¢ƒã€æ–‡ä»¶ç­‰ï¼‰ |
| ğŸ¤ **å›¢é˜Ÿå…±äº«** | æäº¤ `tasks.json`ï¼Œç¡®ä¿ everyone runs the same way |

---

## âœ… ä¸‰ã€å®é™…ç¤ºä¾‹ï¼šå°è£…ç‹¬ç«‹ä»»åŠ¡

```json
// .vscode/tasks.json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Clean Build",
      "type": "shell",
      "command": "rm -rf dist/ temp/",
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "Format Code",
      "type": "shell",
      "command": "npm run format",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Run Linter",
      "type": "shell",
      "command": "npm run lint",
      "group": "test",
      "problemMatcher": "$eslint-compact"
    },
    {
      "label": "Start Dev Server",
      "type": "shell",
      "command": "npm run dev",
      "isBackground": true,
      "problemMatcher": "$tsc-watch"
    }
  ]
}
```

ğŸ‘‰ ç°åœ¨ä½ å¯ä»¥ï¼š

- ç”¨ `Ctrl+Shift+P` â†’ `Run Task` â†’ é€‰ `Format Code`ï¼Œä¸€é”®æ ¼å¼åŒ–
- å›¢é˜Ÿæˆå‘˜ä¸ç”¨é—®â€œæ€ä¹ˆå¯åŠ¨å¼€å‘æœåŠ¡å™¨â€
- `lint` é”™è¯¯è‡ªåŠ¨å‡ºç°åœ¨ Problems é¢æ¿
- `dev` ä»»åŠ¡æ”¯æŒåå°è¿è¡Œ + å®æ—¶é”™è¯¯æç¤º

---

## âœ… å››ã€ä»€ä¹ˆæ—¶å€™å¯ä»¥ä¸å°è£…ï¼Ÿ

åªæœ‰å½“ä½ æ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶æ—¶ï¼Œæ‰**å¯ä»¥ä¸å°è£…**ï¼š

| æ¡ä»¶                | è¯´æ˜                             |
| ------------------- | -------------------------------- |
| âŒ å‘½ä»¤æçŸ­ä¸”ä¸æ˜“é”™ | å¦‚ `ls`ã€`pwd` â€”â€” æ ¹æœ¬ä¸éœ€è¦å°è£… |
| âŒ åªä½ è‡ªå·±ç”¨       | æ²¡æœ‰å›¢é˜Ÿåä½œéœ€æ±‚                 |
| âŒ ä½¿ç”¨é¢‘ç‡æä½     | å‡ ä¸ªæœˆæ‰ç”¨ä¸€æ¬¡                   |
| âŒ ä¸éœ€è¦é”™è¯¯æå–   | è¾“å‡ºåªæ˜¯æ—¥å¿—ï¼Œæ— éœ€è·³è½¬           |
| âŒ ä¸å¸Œæœ›è¢«ä»–äººçœ‹åˆ° | ç§äººè°ƒè¯•è„šæœ¬                     |

ğŸ‘‰ ä½†å¦‚æœä½ çš„å‘½ä»¤æ˜¯ï¼š

```bash
python scripts/data_cleanup.py --env prod --date 2025-04-05
```

å³ä½¿ç‹¬ç«‹ï¼Œä¹Ÿ**å¼ºçƒˆå»ºè®®å°è£…**ï¼

---

## âœ… äº”ã€æœ€ä½³å®è·µå»ºè®®

| å»ºè®® | è¯´æ˜ |
| --- | --- |
| âœ… æŠŠæ‰€æœ‰**å¸¸ç”¨ã€ç¨³å®šã€å›¢é˜Ÿå…±äº«**çš„å‘½ä»¤**éƒ½å†™å…¥ `tasks.json`** | æ— è®ºæ˜¯å¦ä¾èµ– |
| âœ… ä½¿ç”¨ `group` åˆ†ç±»ï¼š`build`ã€`test`ã€`format` ç­‰ | ä¾¿äºç»„ç»‡ |
| âœ… ä¸ºå…³é”®ä»»åŠ¡é…ç½® `problemMatcher` | å³ä½¿æ˜¯ç‹¬ç«‹ lint æˆ– build |
| âœ… æäº¤ `.vscode/tasks.json` åˆ° Gitï¼ˆå¦‚æœå›¢é˜ŸåŒæ„ï¼‰ | å®ç°â€œå¼€ç®±å³ç”¨â€ä½“éªŒ |
| âœ… ä¿ç•™ç»ˆç«¯ç”¨äºæ¢ç´¢æ€§æ“ä½œ | æ–°å‘½ä»¤å…ˆè¯•ç»ˆç«¯ï¼Œç¨³å®šåå†å†™å…¥ tasks |

---

## âœ… æ€»ç»“ï¼šä½ çš„é—®é¢˜æœ¬è´¨æ˜¯â€œå€¼ä¸å€¼å¾—å°è£…â€

> ğŸ”¹ **â€œç‹¬ç«‹â€ä¸æ˜¯â€œä¸å€¼å¾—å°è£…â€çš„ç†ç”±ã€‚**  
> ğŸ”¹ **â€œå¸¸ç”¨â€ + â€œç¨³å®šâ€ + â€œå¯å¤ç”¨â€ æ‰æ˜¯å°è£…çš„æ ¸å¿ƒæ ‡å‡†ã€‚**

ğŸ”§ å°±åƒä½ ä¸ä¼šæ¯æ¬¡éƒ½æ‰‹åŠ¨æ•² `git add . && git commit -m "..." && git push`ï¼Œè€Œæ˜¯å¯èƒ½å†™ä¸ªè„šæœ¬æˆ–ç”¨ GUI å·¥å…·ä¸€æ ·ï¼Œ`tasks.json` å°±æ˜¯ VSCode é‡Œçš„â€œè½»é‡çº§è‡ªåŠ¨åŒ–å·¥å…·â€ã€‚

---

ğŸ’¡ æœ€åå»ºè®®ï¼š

> æŠŠ `tasks.json` å½“ä½œä½ çš„ **â€œå¼€å‘å¿«æ·èœå•â€** æˆ– **â€œé¡¹ç›®æ“ä½œæ‰‹å†Œâ€** â€”â€”  
> æ‰€æœ‰ä½ åº”è¯¥é€šè¿‡èœå•æˆ–å¿«æ·é”®å®Œæˆçš„æ“ä½œï¼Œéƒ½å€¼å¾—å°è£…è¿›å»ã€‚

å¦‚æœä½ å‘Šè¯‰æˆ‘ä½ å¸¸ç”¨çš„å‡ ä¸ªç‹¬ç«‹å‘½ä»¤ï¼Œæˆ‘å¯ä»¥å¸®ä½ å†™å‡ºå¯¹åº”çš„ `tasks.json` é…ç½® ğŸ˜Š

### USER

æˆ‘è¿˜æœ‰ä¸€äº›å…³äº problemMatcher çš„é—®é¢˜ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨ä½¿ç”¨ vite æ„å»ºï¼Œåº”è¯¥ç”¨ä»€ä¹ˆé—®é¢˜åŒ¹é…å™¨ï¼Œæˆ‘å¦‚æœåªæ˜¯ä½¿ç”¨ node å‘½ä»¤æ‰§è¡ŒæŸä¸ª js è„šæœ¬ï¼Œåº”è¯¥ä½¿ç”¨ä»€ä¹ˆé—®é¢˜åŒ¹é…å™¨ã€‚

### ASSISTANT

éå¸¸å¥½çš„é—®é¢˜ï¼ä½ å·²ç»è¿›å…¥äº† `problemMatcher` çš„**å®æˆ˜é˜¶æ®µ**â€”â€”å¦‚ä½•ä¸º **Vite** å’Œ **Node.js è„šæœ¬**è¿™ç±»ç°ä»£å¼€å‘åœºæ™¯é…ç½®åˆé€‚çš„é”™è¯¯æå–ã€‚

æˆ‘ä»¬æ¥é€ä¸ªåˆ†æï¼š

---

## âœ… ä¸€ã€ä½¿ç”¨ Vite æ„å»ºé¡¹ç›®ï¼šåº”è¯¥ç”¨ä»€ä¹ˆ `problemMatcher`ï¼Ÿ

### ğŸ“Œ åœºæ™¯ï¼š

ä½ è¿è¡Œ `vite build` æˆ– `vite dev`ï¼Œå¸Œæœ›åœ¨å¼€å‘/æ„å»ºæ—¶æŠ¥é”™èƒ½æ˜¾ç¤ºåœ¨ VSCode çš„ **Problems é¢æ¿**ä¸­ã€‚

### â“ æœ‰æ²¡æœ‰å†…ç½®çš„ `problemMatcher`ï¼Ÿ

ğŸ‘‰ **æ²¡æœ‰**ã€‚VSCode æ²¡æœ‰æä¾› `$vite` è¿™æ ·çš„å†…ç½® matcherã€‚

ä½† Vite çš„åº•å±‚æ˜¯ **Rollup**ï¼ˆæ„å»ºï¼‰ + **TypeScript / ESBuild / Babel**ï¼ˆç¼–è¯‘ï¼‰ï¼Œå®ƒçš„é”™è¯¯è¾“å‡ºæ ¼å¼é€šå¸¸ä¸è¿™äº›å·¥å…·ä¸€è‡´ã€‚

---

### âœ… æ¨èæ–¹æ¡ˆï¼šæ ¹æ®ä½ å®é™…ä½¿ç”¨çš„è¯­è¨€é€‰æ‹© matcher

| ä½ çš„é¡¹ç›®ç±»å‹ | æ¨è `problemMatcher` | è¯´æ˜ |
| --- | --- | --- |
| **TypeScript é¡¹ç›®** | `"$tsc"` | Vite ä½¿ç”¨ `tsc` åšç±»å‹æ£€æŸ¥ï¼ˆå¦‚æœå¯ç”¨äº† `--noEmit` æˆ– `vue-tsc`ï¼‰ |
| **Vue + TypeScript** | `"$tsc"` æˆ– `"$vue-tsc"`ï¼ˆéœ€å®‰è£…æ‰©å±•ï¼‰ | æ¨èä½¿ç”¨ [Vue - Official](https://marketplace.visualstudio.com/items?itemName=Vue.volar) æ‰©å±• |
| **JavaScript é¡¹ç›®ï¼ˆæ— ç±»å‹æ£€æŸ¥ï¼‰** | âŒ æ— æ ‡å‡† matcher | éœ€è‡ªå®šä¹‰ï¼Œæˆ–ä¾èµ– ESLint |
| **åŒ…å« ESLint æ£€æŸ¥** | `"$eslint-compact"` | å¦‚æœä½ åœ¨ Vite ä¸­é›†æˆ `eslint-plugin` |

---

### âœ… ç¤ºä¾‹ï¼šVite æ„å»ºä»»åŠ¡ï¼ˆTypeScript é¡¹ç›®ï¼‰

```json
{
  "label": "vite build",
  "type": "shell",
  "command": "vite",
  "args": ["build"],
  "group": "build",
  "problemMatcher": "$tsc"
}
```

> âš ï¸ æ³¨æ„ï¼š`vite build` é»˜è®¤**ä¸ä¼šè¿è¡Œç±»å‹æ£€æŸ¥**ï¼Œé™¤éä½ é…ç½®äº†ï¼š
>
> - `plugins: [vue(), vueTsc()]`ï¼ˆVue é¡¹ç›®ï¼‰
> - æˆ–ä½¿ç”¨ `tsc --noEmit --watch` å•ç‹¬è¿è¡Œç±»å‹æ£€æŸ¥

---

### âœ… æ›´ä½³å®è·µï¼š**å•ç‹¬è¿è¡Œç±»å‹æ£€æŸ¥**

```json
{
  "label": "Type Check",
  "type": "shell",
  "command": "tsc",
  "args": ["--noEmit"],
  "group": "test",
  "problemMatcher": "$tsc"
}
```

ç„¶åä½ å¯ä»¥ï¼š

- ç”¨ `Ctrl+Shift+P` â†’ `Run Task` â†’ `Type Check` æ£€æŸ¥ç±»å‹
- æˆ–åœ¨ `vite build` å‰ä¾èµ–è¿™ä¸ªä»»åŠ¡

---

## âœ… äºŒã€ä½¿ç”¨ `node` æ‰§è¡Œ JS è„šæœ¬ï¼šåº”è¯¥ç”¨ä»€ä¹ˆ `problemMatcher`ï¼Ÿ

### ğŸ“Œ åœºæ™¯ï¼š

ä½ æœ‰ä¸€ä¸ªè„šæœ¬ï¼š

```bash
node scripts/migrate.js
```

å®ƒå¯èƒ½æŠ›å‡ºè¿è¡Œæ—¶é”™è¯¯ï¼š

```text
file.js:10
    undefinedVar()
    ^

ReferenceError: undefinedVar is not defined
```

### â“ èƒ½ä¸èƒ½ç”¨å†…ç½® matcherï¼Ÿ

ğŸ‘‰ **æ²¡æœ‰ç›´æ¥åŒ¹é… Node.js è¿è¡Œæ—¶é”™è¯¯çš„å†…ç½® matcher**ã€‚

Node çš„é”™è¯¯è¾“å‡ºæ ¼å¼æ˜¯ **å †æ ˆè·Ÿè¸ªï¼ˆstack traceï¼‰**ï¼Œå¤šè¡Œã€éç»“æ„åŒ–ï¼Œä¸é€‚åˆç”¨ç®€å•çš„æ­£åˆ™åŒ¹é…ã€‚

---

### âœ… å¯è¡Œæ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | æ˜¯å¦æ¨è | è¯´æ˜ |
| --- | --- | --- |
| âŒ ä½¿ç”¨å†…ç½® matcher | å¦ | æ²¡æœ‰ `$node`ï¼Œ`$gcc` ç­‰å®Œå…¨ä¸åŒ¹é… |
| âœ… è‡ªå®šä¹‰ matcherï¼ˆç®€å•é”™è¯¯ï¼‰ | âš ï¸ æœ‰é™æ”¯æŒ | åªèƒ½åŒ¹é…ç¬¬ä¸€è¡Œï¼Œæ— æ³•å®Œæ•´æå– stack trace |
| âœ… åœ¨è„šæœ¬ä¸­ä¸»åŠ¨è¾“å‡ºç»“æ„åŒ–é”™è¯¯ | âœ… æ¨è | æ§åˆ¶è¾“å‡ºæ ¼å¼ï¼Œä¾¿äºåŒ¹é… |
| âœ… ä½¿ç”¨ ESLint å…ˆæ£€æŸ¥è¯­æ³• | âœ… æ¨è | é¢„é˜²é”™è¯¯å‘ç”Ÿ |
| âœ… ä¾èµ–ç»ˆç«¯æŸ¥çœ‹é”™è¯¯ | âœ… ç°å®åšæ³• | å¯¹äºè„šæœ¬ä»»åŠ¡ï¼ŒProblems é¢æ¿ä¸æ˜¯å¿…é¡»çš„ |

---

### âœ… æ¨èåšæ³• 1ï¼šè‡ªå®šä¹‰ matcherï¼ˆé€‚ç”¨äºç®€å•é”™è¯¯ï¼‰

å¦‚æœä½ çš„è„šæœ¬è¾“å‡ºç±»ä¼¼ï¼š

```text
Error: utils.js:5: Invalid input
```

å¯ä»¥å†™ matcherï¼š

```json
"problemMatcher": {
  "owner": "javascript",
  "fileLocation": ["relative", "${workspaceFolder}"],
  "pattern": {
    "regexp": "^Error:\\s*(.*):(\\d+):\\s*(.*)$",
    "file": 1,
    "line": 2,
    "message": 3
  }
}
```

---

### âœ… æ¨èåšæ³• 2ï¼šè„šæœ¬ä¸­è¾“å‡ºæ ‡å‡†æ ¼å¼ï¼ˆæœ€ä½³ï¼‰

åœ¨ä½ çš„ JS è„šæœ¬ä¸­ï¼Œä¸»åŠ¨è¾“å‡ºå¯åŒ¹é…çš„æ ¼å¼ï¼š

```js
// scripts/migrate.js
if (error) {
  console.error(`ERROR: data.json:42: Migration failed: invalid field 'name'`)
}
```

ç„¶å matcherï¼š

```json
"pattern": {
  "regexp": "^ERROR:\\s*(.*):(\\d+):\\s*(.*)$",
  "file": 1,
  "line": 2,
  "message": 3,
  "severity": "error"
}
```

---

### âœ… æ¨èåšæ³• 3ï¼šå…ˆç”¨ ESLint æ£€æŸ¥è„šæœ¬

```json
{
  "label": "Lint Script",
  "type": "shell",
  "command": "eslint",
  "args": ["scripts/migrate.js"],
  "problemMatcher": "$eslint-compact"
}
```

è¿™æ ·å¯ä»¥åœ¨è¿è¡Œå‰å‘ç°è¯­æ³•é”™è¯¯ã€‚

---

## âœ… ä¸‰ã€æ€»ç»“ï¼šä¸åŒåœºæ™¯çš„æ¨è matcher

| åœºæ™¯ | æ¨è `problemMatcher` | è¯´æ˜ |
| --- | --- | --- |
| Vite + TypeScript | `"$tsc"` | ç”¨äºç±»å‹æ£€æŸ¥ï¼ˆéœ€å•ç‹¬è¿è¡Œ `tsc --noEmit`ï¼‰ |
| Vite + ESLint | `"$eslint-compact"` | æ£€æŸ¥ä»£ç é£æ ¼å’Œæ½œåœ¨é”™è¯¯ |
| Node è„šæœ¬ï¼ˆé»˜è®¤é”™è¯¯ï¼‰ | âŒ ä¸æ¨è matcher | é”™è¯¯æ˜¯è¿è¡Œæ—¶ stack traceï¼Œä¸é€‚åˆæå– |
| Node è„šæœ¬ï¼ˆè‡ªå®šä¹‰è¾“å‡ºï¼‰ | âœ… è‡ªå®šä¹‰ matcher | æ§åˆ¶è¾“å‡ºæ ¼å¼ï¼Œå¦‚ `ERROR: file.js:10: ...` |
| é€šç”¨ JS æ„å»º | `"$tsc"`ï¼ˆTSï¼‰ã€`"$eslint-compact"`ï¼ˆJSï¼‰ | ä¼˜å…ˆç”¨å·¥å…·è‡ªèº«çš„ matcher |

---

## âœ… å››ã€é¢å¤–å»ºè®®

1. **Vite å¼€å‘æ¨¡å¼ï¼ˆ`vite dev`ï¼‰**ï¼š

   - é€šå¸¸ä¸éœ€è¦ `problemMatcher`ï¼Œå› ä¸ºé”™è¯¯ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨æ§åˆ¶å°ã€‚
   - ä½†ä½ å¯ä»¥ç”¨ `vite build` ä»»åŠ¡ + `$tsc` åš CI æ£€æŸ¥ã€‚

2. **ä½¿ç”¨ `isBackground: true`**ï¼š

   - å¦‚æœä½ è¿è¡Œçš„æ˜¯é•¿æœŸä»»åŠ¡ï¼ˆå¦‚ `vite dev`ï¼‰ï¼Œè®°å¾—è®¾ä¸ºåå°ä»»åŠ¡ï¼š

   ```json
   "isBackground": true,
   "problemMatcher": "$tsc-watch"  // é€‚ç”¨äº watch æ¨¡å¼ä¸‹çš„ tsc
   ```

3. **ç»“åˆ `watch` æ¨¡å¼**ï¼š

   ```json
   "watch": true,
   "problemMatcher": {
     "base": "$tsc-watch",
     "fileLocation": ["relative", "${workspaceFolder}"]
   }
   ```

---

## âœ… ç¤ºä¾‹ï¼šå®Œæ•´ Vite + TS é¡¹ç›®æ„å»ºä»»åŠ¡

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Type Check",
      "type": "shell",
      "command": "tsc",
      "args": ["--noEmit"],
      "group": "test",
      "problemMatcher": "$tsc"
    },
    {
      "label": "Vite Build",
      "type": "shell",
      "command": "vite",
      "args": ["build"],
      "group": "build",
      "dependsOn": ["Type Check"],
      "problemMatcher": "$tsc"
    },
    {
      "label": "Vite Dev",
      "type": "shell",
      "command": "vite",
      "args": [],
      "isBackground": true,
      "problemMatcher": "$tsc-watch",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false
      }
    }
  ]
}
```

---

å¦‚æœä½ å‘Šè¯‰æˆ‘ä½ å…·ä½“çš„é¡¹ç›®ç±»å‹ï¼ˆå¦‚ Vue + TSï¼ŸReact + JSï¼Ÿçº¯ Node è„šæœ¬ï¼Ÿï¼‰ï¼Œæˆ‘å¯ä»¥ä¸ºä½ å®šåˆ¶ä¸€å¥—å®Œæ•´çš„ `tasks.json` é…ç½® ğŸ˜Š

### USER

æˆ‘çš„é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº vitepress å®ç°çš„ä¸ªäººåšå®¢ï¼Œå…¶ä¸­ä¹ŸåŒ…å«ä¸€äº›çº¯ nodejs è„šæœ¬

### ASSISTANT

å¤ªæ£’äº†ï¼ä½ çš„æƒ…å†µéå¸¸å…¸å‹ï¼šä¸€ä¸ª **VitePress åšå®¢é¡¹ç›®**ï¼Œæ­é…ä¸€äº› **Node.js è„šæœ¬**ï¼ˆæ¯”å¦‚ç”Ÿæˆæ–‡ç« ã€å¤„ç†æ•°æ®ã€éƒ¨ç½²ç­‰ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºè¿™ä¸ªé¡¹ç›®é‡èº«å®šåˆ¶ä¸€å¥—é«˜æ•ˆã€é›†æˆçš„ `tasks.json` é…ç½®ï¼Œè®©ä½ åœ¨ VSCode ä¸­è·å¾—æ¥è¿‘â€œä¸“ä¸šé¡¹ç›®â€çš„å¼€å‘ä½“éªŒã€‚

---

## ğŸ¯ ä¸€ã€ä½ çš„é¡¹ç›®ç‰¹ç‚¹åˆ†æ

| æ¨¡å— | ç‰¹ç‚¹ | é—®é¢˜åŒ¹é…éœ€æ±‚ |
| --- | --- | --- |
| **VitePress** | åŸºäº Viteï¼ŒMarkdown é©±åŠ¨ï¼Œæ”¯æŒ Vue ç»„ä»¶ | æ„å»ºæ—¶ç±»å‹é”™è¯¯ã€è¯­æ³•é”™è¯¯ |
| **TypeScript / JS** | å¯èƒ½æœ‰ `.ts` æˆ– `.js` é…ç½®æ–‡ä»¶ï¼ˆå¦‚ `docs/.vitepress/config.ts`ï¼‰ | éœ€è¦æå–ç±»å‹/è¯­æ³•é”™è¯¯ |
| **Node.js è„šæœ¬** | å¦‚ `scripts/generate-posts.js`ã€`scripts/deploy.mjs` | è¿è¡Œæ—¶æŠ¥é”™ï¼Œå¸Œæœ›å¯å®šä½ |

---

## âœ… äºŒã€æ¨è `problemMatcher` ç­–ç•¥

### 1. **VitePress æ„å»ºä»»åŠ¡**

- âŒ æ²¡æœ‰ `$vitepress` å†…ç½® matcher
- âœ… ä½†åº•å±‚æ˜¯ **Vite + TypeScript**ï¼Œé”™è¯¯æ ¼å¼ä¸ `tsc` å…¼å®¹
- âœ… æ¨èä½¿ç”¨ï¼š`"$tsc"`ï¼ˆç”¨äºç±»å‹æ£€æŸ¥ï¼‰æˆ– **è‡ªå®šä¹‰ matcher**ï¼ˆæ•è·æ„å»ºé”™è¯¯ï¼‰

> âš ï¸ æ³¨æ„ï¼š`vitepress build` é»˜è®¤ä¸ä¼šåšå®Œæ•´ç±»å‹æ£€æŸ¥ï¼Œé™¤éä½ å¯ç”¨äº† `vue-tsc` æˆ–åœ¨ `tsconfig.json` ä¸­é…ç½®ã€‚

---

### 2. **Node.js è„šæœ¬**

- âŒ æ²¡æœ‰å†…ç½® matcher
- âœ… æ¨èï¼š**è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼ + è‡ªå®šä¹‰ matcher**ï¼Œæˆ–å…ˆç”¨ ESLint æ£€æŸ¥

---

## âœ… ä¸‰ã€å®Œæ•´ `tasks.json` é…ç½®å»ºè®®

```json
// .vscode/tasks.json
{
  "version": "2.0.0",
  "tasks": [
    // 1. ç±»å‹æ£€æŸ¥ï¼ˆå…³é”®ï¼ï¼‰
    {
      "label": "Type Check",
      "type": "shell",
      "command": "tsc",
      "args": ["--noEmit"],
      "group": "test",
      "problemMatcher": "$tsc",
      "detail": "æ£€æŸ¥ .vitepress/config.ts ç­‰æ–‡ä»¶çš„ç±»å‹"
    },

    // 2. VitePress æ„å»ºï¼ˆç”Ÿäº§ï¼‰
    {
      "label": "Build Blog",
      "type": "shell",
      "command": "vitepress",
      "args": ["build", "docs"],
      "group": "build",
      "dependsOn": ["Type Check"],
      "problemMatcher": "$tsc",
      "detail": "ç”Ÿæˆé™æ€é¡µé¢"
    },

    // 3. VitePress å¼€å‘æœåŠ¡å™¨
    {
      "label": "Dev Server",
      "type": "shell",
      "command": "vitepress",
      "args": ["dev", "docs"],
      "isBackground": true,
      "problemMatcher": {
        "base": "$tsc-watch",
        "fileLocation": ["relative", "${workspaceFolder}"]
      },
      "group": "development",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "detail": "å¯åŠ¨æœ¬åœ°é¢„è§ˆæœåŠ¡"
    },

    // 4. ESLint æ£€æŸ¥ï¼ˆJS/TS æ–‡ä»¶ï¼‰
    {
      "label": "Lint Code",
      "type": "shell",
      "command": "eslint",
      "args": ["docs", "scripts", "--ext", ".js,.ts,.vue"],
      "group": "test",
      "problemMatcher": "$eslint-compact",
      "detail": "æ£€æŸ¥ä»£ç é£æ ¼å’Œæ½œåœ¨é”™è¯¯"
    },

    // 5. è¿è¡Œ Node è„šæœ¬ï¼ˆç¤ºä¾‹ï¼šç”Ÿæˆæ–‡ç« ï¼‰
    {
      "label": "Generate Posts",
      "type": "shell",
      "command": "node",
      "args": ["scripts/generate-posts.js"],
      "group": "none",
      "problemMatcher": {
        "owner": "node",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "pattern": {
          "regexp": "^ERROR:\\s*(.*):(\\d+):\\s*(.*)$",
          "file": 1,
          "line": 2,
          "message": 3,
          "severity": "error"
        }
      },
      "detail": "è‡ªåŠ¨ç”Ÿæˆæ–‡ç« å…ƒæ•°æ®"
    },

    // 6. éƒ¨ç½²è„šæœ¬ï¼ˆå¯é€‰ï¼‰
    {
      "label": "Deploy to GitHub Pages",
      "type": "shell",
      "command": "node",
      "args": ["scripts/deploy.mjs"],
      "group": "deploy",
      "problemMatcher": {
        "owner": "deploy",
        "pattern": {
          "regexp": "^ERROR:\\s*(.*)$",
          "message": 1,
          "severity": "error"
        }
      }
    }
  ]
}
```

---

## âœ… å››ã€é…å¥—å»ºè®®ï¼šè®©è„šæœ¬è¾“å‡ºå¯åŒ¹é…

ä¸ºäº†è®© Node.js è„šæœ¬èƒ½è¢« `problemMatcher` æ­£ç¡®è¯†åˆ«ï¼Œå»ºè®®ä½ åœ¨è„šæœ¬ä¸­**ä¸»åŠ¨è¾“å‡ºç»“æ„åŒ–é”™è¯¯**ï¼š

```js
// scripts/generate-posts.js

try {
  // ... ä½ çš„é€»è¾‘
} catch (err) {
  // âŒ ä¸è¦åªå†™ï¼šconsole.error(err)
  // âœ… æ¨èå†™æˆå¯åŒ¹é…çš„æ ¼å¼ï¼š
  console.error(
    `ERROR: scripts/generate-posts.js:15: Failed to read posts: ${err.message}`
  )
  process.exit(1)
}
```

è¿™æ ·ä½ çš„ `problemMatcher` å°±èƒ½æå–æ–‡ä»¶ã€è¡Œå·ã€æ¶ˆæ¯ï¼Œå¹¶åœ¨ Problems é¢æ¿ä¸­ç‚¹å‡»è·³è½¬ï¼

---

## âœ… äº”ã€å¦‚ä½•ä½¿ç”¨è¿™äº›ä»»åŠ¡ï¼Ÿ

1. **å¼€å‘æ—¶**ï¼š

   - `Ctrl+Shift+P` â†’ `Tasks: Run Task` â†’ é€‰ `Dev Server` å¯åŠ¨é¢„è§ˆ
   - ä¿å­˜ `.md` æˆ– `.ts` æ–‡ä»¶ï¼Œè‡ªåŠ¨çƒ­æ›´æ–°

2. **æ„å»ºå‰æ£€æŸ¥**ï¼š

   - è¿è¡Œ `Lint Code` å’Œ `Type Check`ï¼Œç¡®ä¿æ— è¯¯
   - å†è¿è¡Œ `Build Blog`

3. **è‡ªåŠ¨åŒ–æµç¨‹**ï¼š

   - ä½ å¯ä»¥æŠŠ `Build Blog` è®¾ä¸º `preLaunchTask`ï¼ˆå¦‚æœä½ æœ‰è°ƒè¯•éœ€æ±‚ï¼‰
   - æˆ–åœ¨ CI/CD ä¸­å¤ç”¨è¿™äº›å‘½ä»¤

4. **è¿è¡Œè„šæœ¬**ï¼š
   - `Generate Posts` å¯ä¸€é”®ç”Ÿæˆæ–‡ç« åˆ—è¡¨
   - å‡ºé”™æ—¶ç›´æ¥åœ¨ Problems é¢æ¿ç‚¹å‡»è·³è½¬

---

## âœ… å…­ã€é¢å¤–ä¼˜åŒ–å»ºè®®

### 1. **å¯ç”¨ `vue-tsc`ï¼ˆå¦‚æœä½ ç”¨äº† Vue ç»„ä»¶ï¼‰**

å®‰è£…ï¼š

```bash
npm install -D vue-tsc
```

ç„¶åæ›¿æ¢ `Type Check` ä»»åŠ¡ï¼š

```json
"command": "vue-tsc",
"args": ["--noEmit"]
```

### 2. **æ·»åŠ å¿«æ·é”®ï¼ˆå¯é€‰ï¼‰**

åœ¨ `keybindings.json` ä¸­æ·»åŠ ï¼š

```json
[
  {
    "key": "ctrl+shift+b",
    "command": "workbench.action.tasks.runTask",
    "args": "Build Blog"
  },
  {
    "key": "ctrl+shift+d",
    "command": "workbench.action.tasks.runTask",
    "args": "Dev Server"
  }
]
```

### 3. **æäº¤ `tasks.json` åˆ° Git**

- è®©ä½ çš„åšå®¢é¡¹ç›®â€œå¼€ç®±å³ç”¨â€
- åˆ«äººå…‹éš†åä¹Ÿèƒ½ä¸€é”®å¯åŠ¨

---

## âœ… æ€»ç»“ï¼šä½ ç°åœ¨çš„æœ€ä½³å®è·µ

| ç›®æ ‡             | å®ç°æ–¹å¼                         |
| ---------------- | -------------------------------- |
| âœ… ç±»å‹å®‰å…¨      | `tsc --noEmit` + `$tsc` matcher  |
| âœ… æ„å»ºè‡ªåŠ¨åŒ–    | `vitepress build` + ä¾èµ–ç±»å‹æ£€æŸ¥ |
| âœ… å¼€å‘ä½“éªŒ      | `vitepress dev` + `$tsc-watch`   |
| âœ… ä»£ç è´¨é‡      | `eslint` + `$eslint-compact`     |
| âœ… è„šæœ¬å¯ç»´æŠ¤    | ç»“æ„åŒ–è¾“å‡º + è‡ªå®šä¹‰ matcher      |
| âœ… å›¢é˜Ÿ/è‡ªå·±å¤ç”¨ | `tasks.json` æäº¤åˆ°é¡¹ç›®          |

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ ï¼š

- æ ¹æ®ä½ çš„ `tsconfig.json` è°ƒæ•´ç±»å‹æ£€æŸ¥èŒƒå›´
- ä¸ºä½ æŸä¸ªå…·ä½“çš„ Node è„šæœ¬å†™ä¸“ç”¨çš„ `problemMatcher`
- ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„ `.vscode` é…ç½®æ¨¡æ¿

åªéœ€å‘Šè¯‰æˆ‘ä½ çš„é¡¹ç›®ç»“æ„ï¼ˆæ¯”å¦‚ `docs/`, `scripts/`, æ˜¯å¦ç”¨ TS ç­‰ï¼‰ğŸ˜Š

### USER

è¯·ä»‹ç»ä¸€ä¸‹ tasks ä¸­çš„é…ç½®å­—æ®µéƒ½æœ‰å“ªäº›ï¼Ÿæˆ‘æƒ³è¦æŸ¥é˜… tasks éƒ½æœ‰å“ªäº›å­—æ®µå¯é…ç½®çš„è¯ï¼Œåº”è¯¥è®¿é—®ä»€ä¹ˆé“¾æ¥ï¼Ÿå®˜æ–¹æ–‡æ¡£æœ‰è¿™éƒ¨åˆ†çš„æè¿°å—ï¼Ÿ

### ASSISTANT

éå¸¸å¥½çš„é—®é¢˜ï¼äº†è§£ `tasks.json` çš„**å®Œæ•´é…ç½®å­—æ®µ**å¯¹äºé«˜æ•ˆä½¿ç”¨ VSCode çš„ä»»åŠ¡ç³»ç»Ÿè‡³å…³é‡è¦ã€‚ä¸‹é¢æˆ‘å°†ä¸ºä½ ç³»ç»Ÿæ€§åœ°ä»‹ç»ï¼š

---

## ğŸ“š ä¸€ã€`tasks.json` çš„æ ¸å¿ƒé…ç½®å­—æ®µè¯¦è§£

`tasks.json` ä½äº `.vscode/tasks.json`ï¼Œæ˜¯ VSCode ä»»åŠ¡ç³»ç»Ÿçš„é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒä¸°å¯Œçš„å­—æ®µæ¥å®šä¹‰ä»»åŠ¡è¡Œä¸ºã€‚

### âœ… åŸºæœ¬ç»“æ„

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      // æ¯ä¸ªä»»åŠ¡çš„é…ç½®
    }
  ]
}
```

---

### âœ… ä»»åŠ¡ï¼ˆTaskï¼‰å¯¹è±¡çš„å¸¸ç”¨å­—æ®µ

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
| --- | --- | --- |
| `label` | `string` | âœ… å¿…å¡«ã€‚ä»»åŠ¡çš„åç§°ï¼Œæ˜¾ç¤ºåœ¨â€œè¿è¡Œä»»åŠ¡â€åˆ—è¡¨ä¸­ã€‚ |
| `type` | `string` | âœ… å¿…å¡«ã€‚ä»»åŠ¡ç±»å‹ï¼Œå¸¸è§å€¼ï¼š`"shell"`ï¼ˆè¿è¡Œå‘½ä»¤ï¼‰ã€`"process"`ï¼ˆè¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ã€`"cppbuild"`ï¼ˆC++ æ„å»ºï¼‰ç­‰ã€‚ |
| `command` | `string` | âœ… å¿…å¡«ã€‚è¦æ‰§è¡Œçš„å‘½ä»¤æˆ–å¯æ‰§è¡Œæ–‡ä»¶åï¼ˆå¦‚ `tsc`ã€`node`ã€`python`ï¼‰ã€‚ |
| `args` | `string[]` | å‘½ä»¤çš„å‚æ•°åˆ—è¡¨ã€‚å¦‚ `["--build", "src"]`ã€‚ |
| `options` | `object` | é…ç½®å·¥ä½œç›®å½•ã€ç¯å¢ƒå˜é‡ç­‰ã€‚ |
| &nbsp;&nbsp;`cwd` | `string` | å·¥ä½œç›®å½•ï¼Œé»˜è®¤æ˜¯ `${workspaceFolder}`ã€‚ |
| &nbsp;&nbsp;`env` | `object` | è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¦‚ `{ "NODE_ENV": "development" }`ã€‚ |
| &nbsp;&nbsp;`shell` | `object` | æŒ‡å®š shell ç±»å‹ï¼ˆå¦‚ `executable`ã€`args`ï¼‰ã€‚ |
| `group` | `string \| { kind: string; isDefault: boolean }` | å°†ä»»åŠ¡åˆ†ç»„ï¼Œæ”¯æŒ `"build"`ã€`"test"`ã€`"none"`ã€‚å¯è®¾ä¸ºé»˜è®¤æ„å»ºä»»åŠ¡ã€‚ |
| `presentation` | `object` | æ§åˆ¶ä»»åŠ¡åœ¨ç»ˆç«¯ä¸­çš„æ˜¾ç¤ºæ–¹å¼ã€‚ |
| &nbsp;&nbsp;`echo` | `boolean` | æ˜¯å¦åœ¨ç»ˆç«¯æ˜¾ç¤ºå‘½ä»¤æœ¬èº«ã€‚ |
| &nbsp;&nbsp;`reveal` | `"always" \| "silent" \| "never"` | æ˜¯å¦æ˜¾ç¤ºç»ˆç«¯é¢æ¿ã€‚ |
| &nbsp;&nbsp;`focus` | `boolean` | æ˜¯å¦èšç„¦ç»ˆç«¯ã€‚ |
| &nbsp;&nbsp;`panel` | `"shared" \| "dedicated" \| "new"` | ç»ˆç«¯å¤ç”¨æ–¹å¼ã€‚ |
| `problemMatcher` | `string \| object \| array` | ä»è¾“å‡ºä¸­æå–é”™è¯¯/è­¦å‘Šï¼Œæ˜¾ç¤ºåœ¨ Problems é¢æ¿ã€‚æ”¯æŒå†…ç½®ï¼ˆå¦‚ `$tsc`ï¼‰æˆ–è‡ªå®šä¹‰ã€‚ |
| `isBackground` | `boolean` | æ˜¯å¦ä¸ºåå°ä»»åŠ¡ï¼ˆå¦‚ `dev server`ï¼‰ï¼Œ`true` æ—¶ä»»åŠ¡ä¸ä¼šè‡ªåŠ¨ç»“æŸã€‚ |
| `runOptions` | `object` | è¿è¡Œé€‰é¡¹ï¼Œå¦‚ `"reevaluateOnRerun": true`ã€‚ |
| `dependsOn` | `string \| string[] \| { target: string; ... }[]` | å®šä¹‰ä»»åŠ¡ä¾èµ–ï¼Œè‡ªåŠ¨æŒ‰é¡ºåºæ‰§è¡Œå‰ç½®ä»»åŠ¡ã€‚ |
| `detail` | `string` | ä»»åŠ¡çš„è¯¦ç»†æè¿°ï¼Œæ˜¾ç¤ºåœ¨ UI ä¸­ã€‚ |
| `outputFormat` | `string` | ä»…ç”¨äºè‡ªå®šä¹‰ problemMatcherï¼Œæ§åˆ¶è¾“å‡ºè§£ææ–¹å¼ï¼ˆå¦‚ `"match"`ã€`"activeOnStart"`ï¼‰ã€‚ |
| `watch` | `boolean` | æ˜¯å¦å¯ç”¨ç›‘å¬æ¨¡å¼ï¼ˆå¦‚ä¿å­˜æ–‡ä»¶åè‡ªåŠ¨é‡æ–°è¿è¡Œï¼‰ã€‚ |

---

### âœ… é«˜çº§å­—æ®µï¼ˆè¾ƒå°‘ç”¨ä½†å¼ºå¤§ï¼‰

| å­—æ®µ | è¯´æ˜ |
| --- | --- |
| `inputs` | å®šä¹‰ç”¨æˆ·è¾“å…¥ï¼ˆå¦‚é€‰æ‹©ç¯å¢ƒã€è¾“å…¥ç‰ˆæœ¬å·ï¼‰ï¼Œå¯åœ¨ `args` ä¸­å¼•ç”¨ `${input:xxx}`ã€‚ |
| `promptOnClose` | åå°ä»»åŠ¡ç»“æŸæ—¶æ˜¯å¦æç¤ºã€‚ |
| `windows` / `linux` / `osx` | å¹³å°ç‰¹å®šè¦†ç›–é…ç½®ã€‚ |
| `problemMatcher.base` | è‡ªå®šä¹‰ matcher æ—¶ç»§æ‰¿å†…ç½® matcherã€‚ |

---

## ğŸ”— äºŒã€å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼ˆæƒå¨å‚è€ƒï¼‰

VSCode å®˜æ–¹æ–‡æ¡£å¯¹ `tasks.json` æœ‰**éå¸¸å®Œæ•´**çš„è¯´æ˜ï¼Œæ˜¯ä½ æŸ¥é˜…å­—æ®µçš„**æœ€ä½³æ¥æº**ã€‚

### âœ… å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š

> ğŸŒ **Tasks in Visual Studio Code**  
> https://code.visualstudio.com/docs/editor/tasks

### ğŸ” ç‰¹åˆ«æ¨èå­é¡µé¢ï¼š

| é¡µé¢ | é“¾æ¥ | å†…å®¹ |
| --- | --- | --- |
| **Tasks æ¦‚è¿°** | https://code.visualstudio.com/docs/editor/tasks | åŸºæœ¬æ¦‚å¿µã€ç¤ºä¾‹ |
| **Task æ¨¡å¼ï¼ˆSchemaï¼‰** | https://code.visualstudio.com/docs/editor/tasks-appendixes-schema | `tasks.json` çš„ JSON Schemaï¼Œ**å­—æ®µæœ€å…¨** |
| **é¢„å®šä¹‰å˜é‡** | https://code.visualstudio.com/docs/editor/variables-reference | æ”¯æŒçš„å˜é‡å¦‚ `${workspaceFolder}`ã€`${file}` ç­‰ |
| **Problem Matchers** | https://code.visualstudio.com/docs/editor/tasks#_problem-matchers | å†…ç½® matcher åˆ—è¡¨å’Œè‡ªå®šä¹‰æ–¹æ³• |
| **è¾“å…¥ï¼ˆInputsï¼‰** | https://code.visualstudio.com/docs/editor/tasks#_custom-tasks | å¦‚ä½•ä½¿ç”¨ `inputs` å®ç°äº¤äº’å¼ä»»åŠ¡ |

---

## ğŸ§© ä¸‰ã€å¦‚ä½•æŸ¥çœ‹ `tasks.json` çš„æ™ºèƒ½æç¤ºï¼ˆIntelliSenseï¼‰

VSCode ä¼šè‡ªåŠ¨ä¸ºä½ æä¾›å­—æ®µæç¤ºï¼š

1. æ‰“å¼€ `.vscode/tasks.json`
2. åœ¨ `tasks` æ•°ç»„ä¸­è¾“å…¥ `{`ï¼Œç„¶åæŒ‰ `Ctrl+Space`
3. ä½ ä¼šçœ‹åˆ°æ‰€æœ‰å¯ç”¨å­—æ®µçš„æç¤ºå’Œè¯´æ˜

âœ… ç¡®ä¿ `version` æ˜¯ `"2.0.0"`ï¼Œå¦åˆ™æŸäº›å­—æ®µä¸ç”Ÿæ•ˆã€‚

---

## ğŸ“„ å››ã€ä¸€ä¸ªå®Œæ•´ç¤ºä¾‹ï¼ˆå«å¸¸ç”¨å­—æ®µï¼‰

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build Blog",
      "type": "shell",
      "command": "vitepress",
      "args": ["build", "docs"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "NODE_ENV": "production"
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "dedicated"
      },
      "problemMatcher": "$tsc",
      "isBackground": false,
      "detail": "Build static site with VitePress",
      "dependsOn": ["Type Check"]
    }
  ]
}
```

---

## âœ… äº”ã€æ€»ç»“ï¼šå¦‚ä½•é«˜æ•ˆæŸ¥é˜…å­—æ®µï¼Ÿ

| æ–¹æ³•                               | æ¨èç¨‹åº¦   | è¯´æ˜                     |
| ---------------------------------- | ---------- | ------------------------ |
| ğŸŒ å®˜æ–¹æ–‡æ¡£ + Schema é¡µé¢          | â­â­â­â­â­ | æœ€æƒå¨ï¼Œå­—æ®µæœ€å…¨         |
| ğŸ’¡ VSCode å†…ç½® IntelliSense        | â­â­â­â­â­ | å†™çš„æ—¶å€™è‡ªåŠ¨æç¤ºï¼Œæœ€å®ç”¨ |
| ğŸ“š æœç´¢ â€œVSCode tasks.json schemaâ€ | â­â­â­â­   | å¿«é€Ÿæ‰¾åˆ° JSON Schema     |
| ğŸ§ª å®éªŒ + Problems é¢æ¿éªŒè¯        | â­â­â­â­   | å®è·µå‡ºçœŸçŸ¥               |

---

## ğŸ“¢ æœ€åæé†’

- `tasks.json` çš„ `version` å¿…é¡»æ˜¯ `"2.0.0"` æ‰æ”¯æŒç°ä»£å­—æ®µï¼ˆå¦‚ `dependsOn`ã€`inputs`ï¼‰ã€‚
- æ‰€æœ‰è·¯å¾„å˜é‡å¦‚ `${workspaceFolder}`ã€`${file}` éƒ½æ”¯æŒã€‚
- å¯ç»“åˆ `launch.json` ä½¿ç”¨ï¼Œå¦‚ `"preLaunchTask": "Build Blog"`ã€‚

---

å¦‚æœä½ å¸Œæœ›ï¼Œæˆ‘å¯ä»¥ä¸ºä½ ç”Ÿæˆä¸€ä¸ª**å¸¦è¯¦ç»†æ³¨é‡Šçš„ `tasks.json` æ¨¡æ¿**ï¼Œé€‚ç”¨äºä½ çš„ VitePress + Node è„šæœ¬é¡¹ç›® ğŸ˜Š

### USER

https://code.visualstudio.com/docs/reference/tasks-appendix  
æˆ‘åœ¨å®˜æ–¹æ–‡æ¡£çš„ tasks schema æ–‡ç« ä¸­æ‰¾åˆ°äº† tasks æ‰€æœ‰å­—æ®µçš„æè¿° schema è¿™ä¸ªè¯æ±‡çš„å«ä¹‰æ˜¯ï¼Ÿ

### ASSISTANT

éå¸¸å¥½ï¼Œä½ æ‰¾åˆ°äº† VSCode å®˜æ–¹æ–‡æ¡£ä¸­å…³äº `tasks.json` çš„ **Schema** é¡µé¢ï¼Œè¿™æ˜¯æŸ¥é˜…æ‰€æœ‰é…ç½®å­—æ®µæœ€æƒå¨ã€æœ€å®Œæ•´çš„åœ°æ–¹ï¼

ç°åœ¨æˆ‘ä»¬æ¥å›ç­”ä½ çš„é—®é¢˜ï¼š

---

### ğŸ”¤ ä¸€ã€`schema` è¿™ä¸ªè¯çš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ

åœ¨ç¼–ç¨‹å’Œé…ç½®æ–‡ä»¶çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œ**`schema`ï¼ˆä¸­æ–‡ï¼šæ¨¡å¼æˆ–æ¶æ„ï¼‰** æŒ‡çš„æ˜¯ï¼š

> **ä¸€ç§å®šä¹‰æ•°æ®ç»“æ„ã€æ ¼å¼ã€ç±»å‹å’Œçº¦æŸçš„â€œè“å›¾â€æˆ–â€œè§„åˆ™è¯´æ˜ä¹¦â€**ã€‚

å®ƒå‘Šè¯‰ä½ ï¼š

- è¿™ä¸ª JSON æ–‡ä»¶æœ‰å“ªäº›**å¯ä»¥é…ç½®çš„å­—æ®µ**
- æ¯ä¸ªå­—æ®µçš„**ç±»å‹**ï¼ˆæ˜¯å­—ç¬¦ä¸²ï¼Ÿæ•°ç»„ï¼Ÿå¯¹è±¡ï¼Ÿï¼‰
- å“ªäº›å­—æ®µæ˜¯**å¿…å¡«çš„**ï¼Œå“ªäº›æ˜¯**å¯é€‰çš„**
- å­—æ®µçš„**å–å€¼èŒƒå›´**ï¼ˆæ¯”å¦‚ `group` åªèƒ½æ˜¯ `"build"`ã€`"test"` æˆ– `"none"`ï¼‰
- å¦‚ä½•**æ­£ç¡®åœ°ç»„ç»‡**è¿™ä¸ªæ–‡ä»¶çš„ç»“æ„

---

### ğŸ§© äºŒã€ä»¥ `tasks.json` ä¸ºä¾‹è§£é‡Š Schema

å½“ä½ çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶ï¼š

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build",
      "type": "shell",
      "command": "npm run build"
    }
  ]
}
```

é‚£ä¹ˆ `tasks.json` çš„ **Schema** å°±æ˜¯ï¼š

> â€œè¿™ä¸ªæ–‡ä»¶å¿…é¡»æœ‰ä¸€ä¸ª `version` å­—æ®µï¼Œå€¼ä¸ºå­—ç¬¦ä¸²ï¼›å¿…é¡»æœ‰ä¸€ä¸ª `tasks` æ•°ç»„ï¼Œæ•°ç»„é‡Œçš„æ¯ä¸ªä»»åŠ¡å¿…é¡»åŒ…å« `label` å’Œ `command`ï¼Œå¯é€‰ `args`ã€`problemMatcher` ç­‰â€¦â€¦â€

è¿™å°±åƒæ˜¯ä¸€ä»½ **è¯´æ˜ä¹¦** æˆ– **è®¾è®¡å›¾çº¸**ï¼Œå‘Šè¯‰å¼€å‘è€…å’Œç¼–è¾‘å™¨ï¼šâ€œä»€ä¹ˆæ ·çš„ JSON æ˜¯åˆæ³•çš„ `tasks.json`â€ã€‚

---

### ğŸ“š ä¸‰ã€Schema çš„å¸¸è§å½¢å¼

| å½¢å¼ | è¯´æ˜ |
| --- | --- |
| **JSON Schema** | ä¸€ç§æ ‡å‡†çš„ã€ç”¨ JSON æè¿° JSON ç»“æ„çš„æ ¼å¼ã€‚VSCode å†…éƒ¨å°±æ˜¯ç”¨å®ƒæ¥éªŒè¯ `tasks.json` æ˜¯å¦å†™å¯¹äº†ã€‚ |
| **TypeScript æ¥å£ï¼ˆInterfaceï¼‰** | å¦‚ä½ æä¾›çš„ç½‘é¡µå†…å®¹æ‰€ç¤ºï¼ŒVSCode å›¢é˜Ÿç”¨ TypeScript æ¥å£æ¥æè¿° `tasks.json` çš„ç»“æ„ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§ schemaã€‚ |
| **æ–‡æ¡£è¯´æ˜ + ç¤ºä¾‹** | åƒå®˜æ–¹æ–‡æ¡£ä¸­çš„è¡¨æ ¼ã€æè¿°ï¼Œä¹Ÿæ˜¯ schema çš„ä¸€ç§â€œäººç±»å¯è¯»â€ç‰ˆæœ¬ã€‚ |

ä½ çœ‹åˆ°çš„è¿™ä¸ªé¡µé¢ï¼š

> https://code.visualstudio.com/docs/reference/tasks-appendix

å…¶å®å°±æ˜¯ VSCode å›¢é˜Ÿç”¨ **TypeScript æ¥å£** çš„æ–¹å¼ï¼Œ**æ­£å¼å®šä¹‰äº† `tasks.json` çš„ schema**ã€‚

---

### âœ… å››ã€Schema èƒ½å¸®ä½ åšä»€ä¹ˆï¼Ÿ

1. **æ™ºèƒ½æç¤ºï¼ˆIntelliSenseï¼‰**  
   VSCode æ ¹æ® schemaï¼Œåœ¨ä½ å†™ `tasks.json` æ—¶è‡ªåŠ¨æç¤ºå­—æ®µåã€å‚æ•°ç±»å‹ã€å¯é€‰å€¼ã€‚

2. **é”™è¯¯æ£€æŸ¥**  
   å¦‚æœä½ å†™äº†ä¸ªä¸å­˜åœ¨çš„å­—æ®µï¼ˆå¦‚ `"cmd": "tsc"`ï¼‰ï¼ŒVSCode ä¼šæ ‡çº¢æé†’ã€‚

3. **è‡ªåŠ¨è¡¥å…¨**  
   è¾“å…¥ `"group":` æ—¶ï¼Œè‡ªåŠ¨æç¤º `"build"`ã€`"test"`ã€‚

4. **æ–‡æ¡£ä¾æ®**  
   ä½ å¯ä»¥ç¡®ä¿¡ï¼šè¿™ä¸ªå­—æ®µæ˜¯å®˜æ–¹æ”¯æŒçš„ï¼Œä¸æ˜¯è¿‡æ—¶æˆ–é”™è¯¯çš„ã€‚

---

### ğŸ†š äº”ã€schema vs é…ç½®æ–‡ä»¶ çš„å…³ç³»ï¼ˆç±»æ¯”ï¼‰

| ç±»æ¯”é¡¹              | ç±»æ¯”è¯´æ˜                                  |
| ------------------- | ----------------------------------------- |
| ğŸ—ï¸ å»ºç­‘å›¾çº¸ vs æˆ¿å­ | Schema æ˜¯å›¾çº¸ï¼Œ`tasks.json` æ˜¯å»ºæˆçš„æˆ¿å­  |
| ğŸ“ è€ƒè¯•å¤§çº² vs ç­”å· | Schema æ˜¯è€ƒçº²ï¼Œä½ çš„é…ç½®æ˜¯ç­”å·             |
| ğŸ§± æ¨¡å…· vs å†°å—     | Schema æ˜¯å†°æ ¼æ¨¡å…·ï¼Œå†³å®šå†°å—ï¼ˆé…ç½®ï¼‰çš„å½¢çŠ¶ |

---

### âœ… å…­ã€æ€»ç»“

> **`schema` å°±æ˜¯ `tasks.json` çš„â€œå®˜æ–¹è¯´æ˜ä¹¦â€æˆ–â€œæ•°æ®ç»“æ„å®šä¹‰â€**ã€‚

ä½ æ‰¾åˆ°çš„è¿™ä¸ªé“¾æ¥ï¼š

ğŸ‘‰ https://code.visualstudio.com/docs/reference/tasks-appendix

æ­£æ˜¯ **VSCode å®˜æ–¹å¯¹ `tasks.json` æ‰€æœ‰å­—æ®µçš„æƒå¨å®šä¹‰ï¼ˆå³ schemaï¼‰**ï¼Œå®ƒç”¨ TypeScript æ¥å£çš„å½¢å¼å‘Šè¯‰ä½ ï¼š

- å“ªäº›å­—æ®µå¯ç”¨
- æ¯ä¸ªå­—æ®µçš„ç±»å‹å’Œå«ä¹‰
- å¦‚ä½•æ­£ç¡®ç¼–å†™ä¸€ä¸ªåˆæ³•çš„ä»»åŠ¡é…ç½®

---

âœ… **å»ºè®®æ”¶è—è¿™ä¸ªé¡µé¢**ï¼Œå®ƒæ˜¯ä½ é…ç½® VSCode ä»»åŠ¡ç³»ç»Ÿçš„â€œå­—å…¸çº§â€å‚è€ƒèµ„æ–™ã€‚

- ![å›¾ 1](https://cdn.jsdelivr.net/gh/Tdahuyou/imgs@main/2025-07-24-08-05-35.png)
- å›¾ç‰‡æ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªé€‰æ‹©å¯¹è¯æ¡†ï¼Œç”¨äºé…ç½®ä»»åŠ¡è¾“å‡ºçš„æ‰«æé€‰é¡¹ã€‚è¿™äº›é€‰é¡¹ä¸ `tasks.json` æ–‡ä»¶ä¸­çš„ä»»åŠ¡é…ç½®ç›¸å…³ï¼Œå…·ä½“è§£é‡Šå¦‚ä¸‹ï¼š
- **é€‰æ‹©é’ˆå¯¹ä½•ç§é”™è¯¯å’Œè­¦å‘Šæ‰«æä»»åŠ¡è¾“å‡º**
  - è¿™æ˜¯å¯¹è¯æ¡†çš„æ ‡é¢˜ï¼Œè¡¨æ˜å½“å‰æ­£åœ¨é…ç½®ä»»åŠ¡è¾“å‡ºçš„æ‰«æè§„åˆ™ã€‚æ‰«æä»»åŠ¡è¾“å‡ºæ˜¯ä¸ºäº†æ£€æµ‹ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯ã€‚
- **ç»§ç»­è€Œä¸æ‰«æä»»åŠ¡è¾“å‡º**
  - **å«ä¹‰**ï¼šé€‰æ‹©æ­¤é¡¹åï¼Œä»»åŠ¡å°†ç»§ç»­æ‰§è¡Œï¼Œä½†å…¶è¾“å‡ºï¼ˆå³å‘½ä»¤æ‰§è¡Œçš„ç»“æœï¼‰å°†ä¸ä¼šè¢«æ‰«æä»¥æŸ¥æ‰¾é”™è¯¯æˆ–è­¦å‘Šã€‚
  - **é€‚ç”¨åœºæ™¯**ï¼šå½“ä½ ç¡®å®šä»»åŠ¡çš„è¾“å‡ºä¸éœ€è¦æ£€æŸ¥é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œå¯ä»¥é€‰æ‹©æ­¤é¡¹ã€‚ä¾‹å¦‚ï¼Œä¸€äº›ç®€å•çš„æ‰“å°ä»»åŠ¡æˆ–ä¸éœ€è¦ä¸¥æ ¼é”™è¯¯æ£€æŸ¥çš„ä»»åŠ¡ã€‚
- **ä»ä¸æ‰«ææ­¤ä»»åŠ¡çš„ä»»åŠ¡è¾“å‡º**
  - **å«ä¹‰**ï¼šé€‰æ‹©æ­¤é¡¹åï¼Œå°†æ°¸ä¹…ç¦ç”¨å¯¹è¯¥ç‰¹å®šä»»åŠ¡è¾“å‡ºçš„æ‰«æã€‚
  - **é€‚ç”¨åœºæ™¯**ï¼šå¦‚æœä½ ç¡®å®šæŸä¸ªä»»åŠ¡çš„è¾“å‡ºæ°¸è¿œä¸éœ€è¦æ£€æŸ¥é”™è¯¯æˆ–è­¦å‘Šï¼Œå¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹ã€‚è¿™å°†é¿å…æ¯æ¬¡è¿è¡Œä»»åŠ¡æ—¶éƒ½å¼¹å‡ºé€‰æ‹©å¯¹è¯æ¡†ã€‚
- **ä»ä¸æ‰«æ shell ä¸ªä»»åŠ¡çš„ä»»åŠ¡è¾“å‡º**
  - **å«ä¹‰**ï¼šé€‰æ‹©æ­¤é¡¹åï¼Œå°†æ°¸ä¹…ç¦ç”¨å¯¹æ‰€æœ‰ `type` ä¸º `shell` çš„ä»»åŠ¡è¾“å‡ºçš„æ‰«æã€‚
  - **é€‚ç”¨åœºæ™¯**ï¼šå¦‚æœä½ æœ‰å¤šä¸ª `shell` ç±»å‹çš„ä»»åŠ¡ï¼Œå¹¶ä¸”å®ƒä»¬çš„è¾“å‡ºéƒ½ä¸éœ€è¦æ£€æŸ¥é”™è¯¯æˆ–è­¦å‘Šï¼Œå¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹æ¥ç»Ÿä¸€é…ç½®ã€‚
- ç»“åˆ `tasks.json` æ–‡ä»¶ç†è§£
  - åœ¨ä½ çš„ `tasks.json` æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ª `"problemMatcher"` å­—æ®µï¼Œè¯¥å­—æ®µæŒ‡å®šäº†ç”¨äºåŒ¹é…ä»»åŠ¡è¾“å‡ºä¸­é”™è¯¯å’Œè­¦å‘Šçš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼š

```json
"problemMatcher": ["$tsc"]
```

- è¿™é‡Œ `$tsc` æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„æ¨¡å¼ï¼Œç”¨äºåŒ¹é… TypeScript ç¼–è¯‘å™¨çš„è¾“å‡ºä¸­çš„é”™è¯¯å’Œè­¦å‘Šã€‚
- **å¦‚æœé€‰æ‹©â€œç»§ç»­è€Œä¸æ‰«æä»»åŠ¡è¾“å‡ºâ€**ï¼Œåˆ™ç›¸å½“äºä¸´æ—¶å¿½ç•¥ `"problemMatcher"` çš„é…ç½®ã€‚
- **å¦‚æœé€‰æ‹©â€œä»ä¸æ‰«ææ­¤ä»»åŠ¡çš„ä»»åŠ¡è¾“å‡ºâ€**ï¼Œåˆ™ç›¸å½“äºæ°¸ä¹…ç§»é™¤è¯¥ä»»åŠ¡çš„ `"problemMatcher"` é…ç½®ã€‚
- **å¦‚æœé€‰æ‹©â€œä»ä¸æ‰«æ shell ä¸ªä»»åŠ¡çš„ä»»åŠ¡è¾“å‡ºâ€**ï¼Œåˆ™ç›¸å½“äºä¸ºæ‰€æœ‰ `type` ä¸º `shell` çš„ä»»åŠ¡ç§»é™¤ `"problemMatcher"` é…ç½®ã€‚

### æ€»ç»“

è¿™äº›é€‰é¡¹å¸®åŠ©ä½ æ§åˆ¶æ˜¯å¦ä»¥åŠå¦‚ä½•æ‰«æä»»åŠ¡è¾“å‡ºä¸­çš„é”™è¯¯å’Œè­¦å‘Šã€‚æ ¹æ®ä½ çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„é€‰é¡¹ï¼Œå¯ä»¥æé«˜ä»»åŠ¡æ‰§è¡Œçš„æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚

å¦‚æœä½ å¸Œæœ›å¯¹æŸä¸ªä»»åŠ¡è¿›è¡Œä¸¥æ ¼çš„é”™è¯¯æ£€æŸ¥ï¼Œå»ºè®®ä¿ç•™æˆ–é€‚å½“é…ç½®å…¶ `"problemMatcher"`ï¼›åä¹‹ï¼Œå¦‚æœä»»åŠ¡è¾“å‡ºæ— éœ€æ£€æŸ¥ï¼Œå¯ä»¥é€‰æ‹©ç›¸åº”çš„ä¸æ‰«æé€‰é¡¹ã€‚

ä»¥ä¸‹æ˜¯å¯¹ä»»åŠ¡é…ç½®ä¸­ **é”™è¯¯/è­¦å‘Šæ‰«æé€‰é¡¹** çš„è¯¦ç»†ä¸¾ä¾‹è¯´æ˜ï¼Œå¸®åŠ©ä½ ç†è§£åœ¨ä¸åŒåœºæ™¯ä¸‹å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ‰«æè¡Œä¸ºã€‚

## ğŸ“Œ ä¸¾ä¾‹è¯´æ˜

### ğŸ§© å‡è®¾åœºæ™¯

ä½ åœ¨ `tasks.json` ä¸­å®šä¹‰äº†ä»¥ä¸‹ä¸¤ä¸ªä»»åŠ¡ï¼š

```json
{
  "label": "tn:build",
  "type": "shell",
  "command": "npm run tn:build",
  "problemMatcher": ["$tsc"]
}
```

```json
{
  "label": "æ‰“å° hello world",
  "type": "shell",
  "command": "echo hello world"
}
```

---

## âœ… ç¤ºä¾‹ 1ï¼šç»§ç»­è€Œä¸æ‰«æä»»åŠ¡è¾“å‡º

### ğŸ“„ é€‰æ‹©é¡¹

> **ç»§ç»­è€Œä¸æ‰«æä»»åŠ¡è¾“å‡º**

### ğŸ“Œ é€‚ç”¨ä»»åŠ¡

- `æ‰“å° hello world`

### ğŸ§  åŸå› 

- è¿™ä¸ªä»»åŠ¡åªæ˜¯æ‰“å° `hello world`ï¼Œä¸ä¼šäº§ç”Ÿä»»ä½•é”™è¯¯æˆ–è­¦å‘Šã€‚
- å¦‚æœä½ æ¯æ¬¡éƒ½é€‰æ‹©æ‰«æè¾“å‡ºï¼ŒVS Code ä¼šå°è¯•ä»è¾“å‡ºä¸­åŒ¹é…é”™è¯¯ï¼ˆä½†å…¶å®æ²¡æœ‰ï¼‰ï¼Œè¿™ä¼šæµªè´¹èµ„æºã€‚
- æ‰€ä»¥é€‰æ‹©â€œç»§ç»­è€Œä¸æ‰«æä»»åŠ¡è¾“å‡ºâ€å¯ä»¥é¿å…æ— æ„ä¹‰çš„æ‰«æã€‚

### ğŸ” æ•ˆæœ

- ä»»åŠ¡è¿è¡Œåä¸ä¼šæ£€æŸ¥è¾“å‡ºå†…å®¹ã€‚
- ä¸ä¼šå¼¹å‡ºé”™è¯¯æç¤ºã€‚
- ä¸å½±å“ `tasks.json` çš„é…ç½®ã€‚

---

## âœ… ç¤ºä¾‹ 2ï¼šä»ä¸æ‰«ææ­¤ä»»åŠ¡çš„ä»»åŠ¡è¾“å‡º

### ğŸ“„ é€‰æ‹©é¡¹

> **ä»ä¸æ‰«ææ­¤ä»»åŠ¡çš„ä»»åŠ¡è¾“å‡º**

### ğŸ“Œ é€‚ç”¨ä»»åŠ¡

- `æ‰“å° hello world`

### ğŸ§  åŸå› 

- å¦‚æœä½ **æ¯æ¬¡è¿è¡Œè¿™ä¸ªä»»åŠ¡æ—¶éƒ½é€‰æ‹©â€œç»§ç»­è€Œä¸æ‰«æâ€**ï¼Œä¸ºäº†é¿å…é‡å¤é€‰æ‹©ï¼Œå¯ä»¥ä¸€æ¬¡é€‰æ‹©â€œä»ä¸æ‰«ææ­¤ä»»åŠ¡â€ï¼ŒVS Code ä¼šè®°ä½è¿™ä¸ªé€‰æ‹©ã€‚
- è¿™æ ·ä»¥åè¿è¡Œè¿™ä¸ªä»»åŠ¡æ—¶ï¼Œå°±ä¸ä¼šå†å¼¹å‡ºå¯¹è¯æ¡†ã€‚

### ğŸ” æ•ˆæœ

- VS Code ä¼šè®°ä½ä½ å¯¹è¿™ä¸ªä»»åŠ¡çš„é€‰æ‹©ã€‚
- è¯¥ä»»åŠ¡ä»¥åè¿è¡Œæ—¶è‡ªåŠ¨è·³è¿‡è¾“å‡ºæ‰«æã€‚
- VS Code ä¼šåœ¨ `.vscode/tasks.json` æˆ–ç”¨æˆ·è®¾ç½®ä¸­è®°å½•è¿™ä¸ªé…ç½®ã€‚

---

## âœ… ç¤ºä¾‹ 3ï¼šä»ä¸æ‰«æ shell ä¸ªä»»åŠ¡çš„ä»»åŠ¡è¾“å‡º

### ğŸ“„ é€‰æ‹©é¡¹

> **ä»ä¸æ‰«æ shell ä¸ªä»»åŠ¡çš„ä»»åŠ¡è¾“å‡º**

> âš ï¸ æ³¨ï¼šåŸæ–‡ä¸­â€œshell ä¸ªä»»åŠ¡â€å¯èƒ½æ˜¯ç¬”è¯¯ï¼Œåº”ä¸ºâ€œshell ç±»å‹çš„ä»»åŠ¡â€ã€‚

### ğŸ“Œ é€‚ç”¨ä»»åŠ¡

- æ‰€æœ‰ `type: "shell"` çš„ä»»åŠ¡

### ğŸ§  åŸå› 

- ä½ å¯èƒ½æœ‰å¤šä¸ª shell ä»»åŠ¡ï¼ˆå¦‚ `tn:build`, `tn:dev`, `echo` ç­‰ï¼‰ã€‚
- å¦‚æœä½ ç¡®å®šè¿™äº›ä»»åŠ¡çš„è¾“å‡º**éƒ½ä¸éœ€è¦è¿›è¡Œé”™è¯¯æ‰«æ**ï¼Œå¯ä»¥é€‰æ‹©è¿™ä¸ªé€‰é¡¹ã€‚

### ğŸ” æ•ˆæœ

- æ‰€æœ‰ `type: "shell"` çš„ä»»åŠ¡å°†ä¸å†è¿›è¡Œè¾“å‡ºæ‰«æã€‚
- VS Code ä¼šå…¨å±€è®°å½•è¿™ä¸ªè®¾ç½®ã€‚
- å³ä½¿ä½ åœ¨ `tasks.json` ä¸­é…ç½®äº† `"problemMatcher": ["$tsc"]`ï¼Œä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚

---

## ğŸš« æ³¨æ„äº‹é¡¹

- **`problemMatcher`** æ˜¯ç”¨äºåŒ¹é…è¾“å‡ºä¸­é”™è¯¯ä¿¡æ¯çš„æœºåˆ¶ï¼Œä¾‹å¦‚ `$tsc` æ˜¯åŒ¹é… TypeScript ç¼–è¯‘å™¨è¾“å‡ºçš„é¢„å®šä¹‰æ¨¡å¼ã€‚
- å¦‚æœä½ ç¦ç”¨äº†æ‰«æè¾“å‡ºï¼ŒVS Code å°±ä¸ä¼šè¯†åˆ«ä»»åŠ¡è¾“å‡ºä¸­çš„é”™è¯¯å’Œè­¦å‘Šã€‚
- å¦‚æœä½ å¸Œæœ› VS Code æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼ˆå¦‚ TypeScript ç¼–è¯‘é”™è¯¯ï¼‰ï¼Œ**ä¸è¦é€‰æ‹©â€œä¸æ‰«æâ€ç›¸å…³é€‰é¡¹**ã€‚

---

## ğŸ§­ æ€»ç»“å»ºè®®

| é€‰æ‹©é¡¹ | é€‚ç”¨åœºæ™¯ | æ˜¯å¦å½±å“é…ç½®æ–‡ä»¶ | æ˜¯å¦æ¨è |
| --- | --- | --- | --- |
| ç»§ç»­è€Œä¸æ‰«æä»»åŠ¡è¾“å‡º | å•æ¬¡è·³è¿‡æ‰«æ | âŒ ä¸å½±å“ | âœ… ä¸´æ—¶ä½¿ç”¨ |
| ä»ä¸æ‰«ææ­¤ä»»åŠ¡çš„ä»»åŠ¡è¾“å‡º | å›ºå®šè·³è¿‡æŸä¸ªä»»åŠ¡ | âœ… ä¼šè®°å½• | âœ… é•¿æœŸä½¿ç”¨ |
| ä»ä¸æ‰«æ shell ç±»å‹çš„ä»»åŠ¡è¾“å‡º | å…¨å±€è·³è¿‡æ‰€æœ‰ shell ä»»åŠ¡ | âœ… ä¼šè®°å½• | âš ï¸ è°¨æ…ä½¿ç”¨ |

---

å¦‚æœä½ å¸Œæœ› VS Code è‡ªåŠ¨è¯†åˆ« TypeScript é”™è¯¯ï¼Œ**è¯·ä¿ç•™ `problemMatcher` å¹¶ä¸è¦é€‰æ‹©â€œä¸æ‰«æâ€é€‰é¡¹**ã€‚  
å¦‚æœä½ åªæ˜¯è¿è¡Œä¸€äº›ç®€å•çš„è„šæœ¬ï¼ˆå¦‚ `echo`ï¼‰ï¼Œå¯ä»¥é€‰æ‹©â€œä»ä¸æ‰«ææ­¤ä»»åŠ¡â€ä»¥æé«˜æ•ˆç‡ã€‚

æ˜¯çš„ï¼Œä½ çš„ç†è§£æ˜¯ **æ­£ç¡®çš„**ã€‚

åœ¨ `tasks.json` ä¸­ï¼Œ`problemMatcher` æ˜¯ç”¨æ¥ **åŒ¹é…ä»»åŠ¡è¾“å‡ºä¸­çš„é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯** çš„é…ç½®é¡¹ã€‚

---

## âœ… å½“ `problemMatcher` é…ç½®ä¸ºç©ºæ•°ç»„æ—¶ï¼š

```json
"problemMatcher": []
```

### ğŸ“Œ è¡Œä¸ºè¯´æ˜ï¼š

- **VS Code ä¸ä¼šæ‰«æè¯¥ä»»åŠ¡çš„è¾“å‡º** ä»¥æŸ¥æ‰¾é”™è¯¯æˆ–è­¦å‘Šã€‚
- æ§åˆ¶å°ä¸­å³ä½¿æœ‰é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚ç¼–è¯‘é”™è¯¯ã€è„šæœ¬å¼‚å¸¸ç­‰ï¼‰ï¼Œä¹Ÿä¸ä¼šè¢«è¯†åˆ«å’Œé«˜äº®æ˜¾ç¤ºã€‚
- ä¸ä¼šè§¦å‘é”™è¯¯å¯¼èˆªï¼ˆå¦‚ `F8` è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé”™è¯¯ï¼‰ã€‚
- ä¸ä¼šåœ¨â€œé—®é¢˜â€é¢æ¿ä¸­æ˜¾ç¤ºç›¸å…³é”™è¯¯æˆ–è­¦å‘Šã€‚

### ğŸ§© ä¸¾ä¾‹è¯´æ˜ï¼š

ä»¥ä½ æä¾›çš„ä»»åŠ¡ä¸ºä¾‹ï¼š

```json
{
  "label": "æ‰“å° hello world",
  "type": "shell",
  "command": "echo hello world",
  "problemMatcher": []
}
```

- è¿™ä¸ªä»»åŠ¡åªæ˜¯æ‰“å° `hello world`ï¼Œæ²¡æœ‰é”™è¯¯è¾“å‡ºã€‚
- å³ä½¿ä½ è¿è¡Œçš„æ˜¯ä¸€ä¸ªä¼šè¾“å‡ºé”™è¯¯çš„å‘½ä»¤ï¼ˆå¦‚ `npm run tn:build` å‡ºç°ç¼–è¯‘é”™è¯¯ï¼‰ï¼Œåªè¦ `problemMatcher` æ˜¯ç©ºæ•°ç»„ï¼ŒVS Code ä¹Ÿä¸ä¼šè¯†åˆ«é”™è¯¯ã€‚

---

## âœ… ä¸ä¸è®¾ç½® `problemMatcher` çš„åŒºåˆ«

| é…ç½®æ–¹å¼                    | è¡Œä¸º                             |
| --------------------------- | -------------------------------- |
| `"problemMatcher": []`      | æ˜ç¡®æŒ‡å®šä¸æ‰«æé”™è¯¯å’Œè­¦å‘Š         |
| **ä¸è®¾ç½® `problemMatcher`** | ä½¿ç”¨å…¨å±€é»˜è®¤é…ç½®ï¼ˆå¯èƒ½ä»ä¼šæ‰«æï¼‰ |

> æ‰€ä»¥ï¼Œå¦‚æœä½ **æ˜ç¡®ä¸å¸Œæœ›æŸä¸ªä»»åŠ¡è¾“å‡ºé”™è¯¯ä¿¡æ¯**ï¼Œæ¨èä¸»åŠ¨è®¾ç½® `"problemMatcher": []`ã€‚

---

## ğŸ› ï¸ æ¨èä½¿ç”¨åœºæ™¯

- ç”¨äºæ‰§è¡Œç®€å•å‘½ä»¤ï¼ˆå¦‚ `echo`, `ls`, `æ‰“å° hello world`ï¼‰ã€‚
- ç”¨äºè°ƒè¯•é˜¶æ®µæš‚æ—¶å±è”½é”™è¯¯æç¤ºã€‚
- ç”¨äºæŸäº›ä½ å·²çŸ¥è¾“å‡ºä¸­åŒ…å«éæ ‡å‡†é”™è¯¯ä¿¡æ¯çš„ä»»åŠ¡ã€‚

---

## âœ… æ€»ç»“

> `"problemMatcher": []` çš„ä½œç”¨æ˜¯ï¼š**å‘Šè¯‰ VS Codeï¼Œä¸è¦æ‰«æè¿™ä¸ªä»»åŠ¡çš„è¾“å‡ºå†…å®¹ä¸­çš„é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯**ã€‚

å¦‚æœä½ å¸Œæœ›ä»»åŠ¡è¾“å‡ºçš„é”™è¯¯èƒ½è¢«è¯†åˆ«å¹¶å±•ç¤ºåœ¨â€œé—®é¢˜â€é¢æ¿å’Œç¼–è¾‘å™¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼ `"problemMatcher": ["$tsc"]` çš„é…ç½®ã€‚  
å¦‚æœä½ ä¸å¸Œæœ›å±•ç¤ºé”™è¯¯ï¼Œå°±è®¾ç½®ä¸ºç©ºæ•°ç»„ `[]`ã€‚

### 2. ä½¿ç”¨è‡ªå®šä¹‰é—®é¢˜åŒ¹é…å™¨

å¦‚æœä½ çš„ä»»åŠ¡è¾“å‡ºæ ¼å¼ä¸æ˜¯æ ‡å‡†çš„ï¼Œä½ å¯ä»¥å®šä¹‰è‡ªå·±çš„åŒ¹é…è§„åˆ™ã€‚

#### ğŸ“ è‡ªå®šä¹‰åŒ¹é…å™¨ç»“æ„ï¼ˆåœ¨ `tasks.json` æˆ– `settings.json` ä¸­ï¼‰

```json
{
  "problemMatcher": [
    {
      "owner": "myCustomMatcher",
      "fileLocation": ["relative", "${workspaceFolder}"],
      "pattern": {
        "regexp": "^(ERROR|WARNING): (.*):(\\d+):(.*)$",
        "severity": 1,
        "file": 2,
        "line": 3,
        "message": 4
      }
    }
  ]
}
```

#### ğŸ“Œ è¯´æ˜ï¼š

- `regexp`: æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºåŒ¹é…è¾“å‡ºä¸­çš„é”™è¯¯è¡Œã€‚
- `severity`: é”™è¯¯çº§åˆ«ï¼ˆ1=errorï¼Œ2=warningï¼‰ã€‚
- `file`: æ–‡ä»¶è·¯å¾„ã€‚
- `line`: è¡Œå·ã€‚
- `message`: é”™è¯¯ä¿¡æ¯ã€‚

---

## ğŸš« ç¦ç”¨é—®é¢˜åŒ¹é…å™¨

å¦‚æœä½ ä¸å¸Œæœ›æŸä¸ªä»»åŠ¡è¾“å‡ºè¢«æ‰«æé”™è¯¯ä¿¡æ¯ï¼Œå¯ä»¥è®¾ç½®ä¸ºç©ºæ•°ç»„ï¼š

```json
"problemMatcher": []
```

#### âœ… åº”ç”¨åœºæ™¯ï¼š

- ä»»åŠ¡åªæ˜¯æ‰§è¡Œç®€å•å‘½ä»¤ï¼ˆå¦‚ `echo`, `ls`ï¼‰ã€‚
- ä»»åŠ¡è¾“å‡ºä¸­ä¸åŒ…å«æ ‡å‡†é”™è¯¯æ ¼å¼ã€‚
- ä½ å¸Œæœ›å±è”½æŸäº›ä»»åŠ¡çš„é”™è¯¯æç¤ºã€‚

---

## ğŸ“Œ ç¤ºä¾‹è¯´æ˜

### ç¤ºä¾‹ 1ï¼šä½¿ç”¨ `$tsc` åŒ¹é… TypeScript ç¼–è¯‘é”™è¯¯

```json
{
  "label": "tn:build",
  "type": "shell",
  "command": "npm run tn:build",
  "problemMatcher": ["$tsc"]
}
```

å¦‚æœå‘½ä»¤è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š

```
ERROR: src/index.ts(10,5): error TS2339: Property 'name' does not exist on type '{}'.
```

VS Code ä¼šè¯†åˆ«ä¸ºé”™è¯¯ï¼Œå¹¶å±•ç¤ºåœ¨â€œé—®é¢˜â€é¢æ¿ä¸­ï¼Œå¹¶å…è®¸ä½ ç‚¹å‡»è·³è½¬åˆ° [src/index.ts](file:///Users/huyouda/zm/notes/TNotes.vscode/node_modules/khroma/src/index.ts) ç¬¬ 10 è¡Œã€‚

---

### ç¤ºä¾‹ 2ï¼šç¦ç”¨é—®é¢˜åŒ¹é…å™¨ï¼ˆä¸æ‰«æè¾“å‡ºï¼‰

```json
{
  "label": "æ‰“å° hello world",
  "type": "shell",
  "command": "echo hello world",
  "problemMatcher": []
}
```

ä»»åŠ¡æ‰§è¡Œæ—¶ä¸ä¼šæ‰«æè¾“å‡ºï¼Œå³ä½¿è¾“å‡ºä¸­åŒ…å«ç±»ä¼¼é”™è¯¯çš„æ–‡æœ¬ï¼Œä¹Ÿä¸ä¼šè¢«è¯†åˆ«ä¸ºé—®é¢˜ã€‚

---

## ğŸ§­ æ€»ç»“

| é…ç½®æ–¹å¼                     | ä½œç”¨                               |
| ---------------------------- | ---------------------------------- |
| `"problemMatcher": ["$tsc"]` | ä½¿ç”¨å†…ç½®åŒ¹é…å™¨è¯†åˆ« TypeScript é”™è¯¯ |
| `"problemMatcher": []`       | ä¸æ‰«æä»»åŠ¡è¾“å‡ºä¸­çš„é”™è¯¯             |
| è‡ªå®šä¹‰åŒ¹é…å™¨                 | æ ¹æ®è¾“å‡ºæ ¼å¼å®šä¹‰è‡ªå·±çš„é”™è¯¯è¯†åˆ«è§„åˆ™ |

> âœ… **æ¨è**ï¼šå¯¹ç¼–è¯‘ç±»ä»»åŠ¡ï¼ˆå¦‚ TypeScriptã€ESLintã€Webpackï¼‰ä½¿ç”¨å†…ç½®åŒ¹é…å™¨ï¼›å¯¹ç®€å•è„šæœ¬ä»»åŠ¡è®¾ç½®ä¸ºç©ºæ•°ç»„ `[]`ã€‚
